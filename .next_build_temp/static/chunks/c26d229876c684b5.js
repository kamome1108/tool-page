(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,73134,e=>{"use strict";let r;var n,i,a,f,o=e.i(96683),l=e.i(69103),s=e.i(78306),c=e.i(98980),u=e.i(32901);function h(e,r){return new Promise(function(n,i){let a;return d(e).then(function(e){try{return a=e,n(new Blob([r.slice(0,2),a,r.slice(2)],{type:"image/jpeg"}))}catch(e){return i(e)}},i)})}let d=e=>new Promise((r,n)=>{let i=new FileReader;i.addEventListener("load",({target:{result:e}})=>{let i=new DataView(e),a=0;if(65496!==i.getUint16(a))return n("not a valid JPEG");for(a+=2;;){let f=i.getUint16(a);if(65498===f)break;let o=i.getUint16(a+2);if(65505===f&&0x45786966===i.getUint32(a+4)){let f,l=a+10;switch(i.getUint16(l)){case 18761:f=!0;break;case 19789:f=!1;break;default:return n("TIFF header contains invalid endian")}if(42!==i.getUint16(l+2,f))return n("TIFF header contains invalid version");let s=i.getUint32(l+4,f),c=l+s+2+12*i.getUint16(l+s,f);for(let e=l+s+2;e<c;e+=12)if(274==i.getUint16(e,f)){if(3!==i.getUint16(e+2,f))return n("Orientation data type is invalid");if(1!==i.getUint32(e+4,f))return n("Orientation data count is invalid");i.setUint16(e+8,1,f);break}return r(e.slice(a,a+2+o))}a+=2+o}return r(new Blob)}),i.readAsArrayBuffer(e)});var g={};({get exports(){return g},set exports(t){g=t}}).exports=a={},a.parse=function(e,r){for(var n=a.bin.readUshort,i=a.bin.readUint,f=0,o={},l=new Uint8Array(e),s=l.length-4;0x6054b50!=i(l,s);)s--;var c=n(l,f=s+4+4);n(l,f+=2);var u=i(l,f+=2),h=i(l,f+=4);f+=4,f=h;for(var d=0;d<c;d++){i(l,f),f+=4,f+=4,f+=4,i(l,f+=4),u=i(l,f+=4);var g=i(l,f+=4),p=n(l,f+=4),m=n(l,f+2),A=n(l,f+4);f+=6;var w=i(l,f+=8);f+=4,f+=p+m+A,a._readLocal(l,w,o,u,g,r)}return o},a._readLocal=function(e,r,n,i,f,o){var l=a.bin.readUshort,s=a.bin.readUint;s(e,r),l(e,r+=4),l(e,r+=2);var c=l(e,r+=2);s(e,r+=2),s(e,r+=4),r+=4;var u=l(e,r+=8),h=l(e,r+=2);r+=2;var d=a.bin.readUTF8(e,r,u);if(r+=u,r+=h,o)n[d]={size:f,csize:i};else{var g=new Uint8Array(e.buffer,r);if(0==c)n[d]=new Uint8Array(g.buffer.slice(r,r+i));else{if(8!=c)throw"unknown compression method: "+c;var p=new Uint8Array(f);a.inflateRaw(g,p),n[d]=p}}},a.inflateRaw=function(e,r){return a.F.inflate(e,r)},a.inflate=function(e,r){return e[0],e[1],a.inflateRaw(new Uint8Array(e.buffer,e.byteOffset+2,e.length-6),r)},a.deflate=function(e,r){null==r&&(r={level:6});var n=0,i=new Uint8Array(50+Math.floor(1.1*e.length));i[n]=120,i[n+1]=156,n+=2,n=a.F.deflateRaw(e,i,n,r.level);var f=a.adler(e,0,e.length);return i[n+0]=f>>>24&255,i[n+1]=f>>>16&255,i[n+2]=f>>>8&255,i[n+3]=f>>>0&255,new Uint8Array(i.buffer,0,n+4)},a.deflateRaw=function(e,r){null==r&&(r={level:6});var n=new Uint8Array(50+Math.floor(1.1*e.length)),i=a.F.deflateRaw(e,n,i,r.level);return new Uint8Array(n.buffer,0,i)},a.encode=function(e,r){null==r&&(r=!1);var n=0,i=a.bin.writeUint,f=a.bin.writeUshort,o={};for(var l in e){var s=!a._noNeed(l)&&!r,c=e[l],u=a.crc.crc(c,0,c.length);o[l]={cpr:s,usize:c.length,crc:u,file:s?a.deflateRaw(c):c}}for(var l in o)n+=o[l].file.length+30+46+2*a.bin.sizeUTF8(l);var h=new Uint8Array(n+=22),d=0,g=[];for(var l in o){var p=o[l];g.push(d),d=a._writeHeader(h,d,l,p,0)}var m=0,A=d;for(var l in o)p=o[l],g.push(d),d=a._writeHeader(h,d,l,p,1,g[m++]);var w=d-A;return i(h,d,0x6054b50),d+=4,f(h,d+=4,m),f(h,d+=2,m),i(h,d+=2,w),i(h,d+=4,A),d+=4,d+=2,h.buffer},a._noNeed=function(e){var r=e.split(".").pop().toLowerCase();return -1!="png,jpg,jpeg,zip".indexOf(r)},a._writeHeader=function(e,r,n,i,f,o){var l=a.bin.writeUint,s=a.bin.writeUshort,c=i.file;return l(e,r,0==f?0x4034b50:0x2014b50),r+=4,1==f&&(r+=2),s(e,r,20),s(e,r+=2,0),s(e,r+=2,8*!!i.cpr),l(e,r+=2,0),l(e,r+=4,i.crc),l(e,r+=4,c.length),l(e,r+=4,i.usize),s(e,r+=4,a.bin.sizeUTF8(n)),s(e,r+=2,0),r+=2,1==f&&(r+=2,r+=2,l(e,r+=6,o),r+=4),r+=a.bin.writeUTF8(e,r,n),0==f&&(e.set(c,r),r+=c.length),r},a.crc={table:function(){for(var e=new Uint32Array(256),r=0;r<256;r++){for(var n=r,i=0;i<8;i++)1&n?n=0xedb88320^n>>>1:n>>>=1;e[r]=n}return e}(),update:function(e,r,n,i){for(var f=0;f<i;f++)e=a.crc.table[255&(e^r[n+f])]^e>>>8;return e},crc:function(e,r,n){return 0xffffffff^a.crc.update(0xffffffff,e,r,n)}},a.adler=function(e,r,n){for(var i=1,a=0,f=r,o=r+n;f<o;){for(var l=Math.min(f+5552,o);f<l;)a+=i+=e[f++];i%=65521,a%=65521}return a<<16|i},a.bin={readUshort:function(e,r){return e[r]|e[r+1]<<8},writeUshort:function(e,r,n){e[r]=255&n,e[r+1]=n>>8&255},readUint:function(e,r){return 0x1000000*e[r+3]+(e[r+2]<<16|e[r+1]<<8|e[r])},writeUint:function(e,r,n){e[r]=255&n,e[r+1]=n>>8&255,e[r+2]=n>>16&255,e[r+3]=n>>24&255},readASCII:function(e,r,n){for(var i="",a=0;a<n;a++)i+=String.fromCharCode(e[r+a]);return i},writeASCII:function(e,r,n){for(var i=0;i<n.length;i++)e[r+i]=n.charCodeAt(i)},pad:function(e){return e.length<2?"0"+e:e},readUTF8:function(e,r,n){for(var i,f="",o=0;o<n;o++)f+="%"+a.bin.pad(e[r+o].toString(16));try{i=decodeURIComponent(f)}catch(i){return a.bin.readASCII(e,r,n)}return i},writeUTF8:function(e,r,n){for(var i=n.length,a=0,f=0;f<i;f++){var o=n.charCodeAt(f);if(0==(0xffffff80&o))e[r+a]=o,a++;else if(0==(0xfffff800&o))e[r+a]=192|o>>6,e[r+a+1]=128|63&o,a+=2;else if(0==(0xffff0000&o))e[r+a]=224|o>>12,e[r+a+1]=128|o>>6&63,e[r+a+2]=128|63&o,a+=3;else{if(0!=(0xffe00000&o))throw"e";e[r+a]=240|o>>18,e[r+a+1]=128|o>>12&63,e[r+a+2]=128|o>>6&63,e[r+a+3]=128|63&o,a+=4}}return a},sizeUTF8:function(e){for(var r=e.length,n=0,i=0;i<r;i++){var a=e.charCodeAt(i);if(0==(0xffffff80&a))n++;else if(0==(0xfffff800&a))n+=2;else if(0==(0xffff0000&a))n+=3;else{if(0!=(0xffe00000&a))throw"e";n+=4}}return n}},a.F={},a.F.deflateRaw=function(e,r,n,i){var f=[[0,0,0,0,0],[4,4,8,4,0],[4,5,16,8,0],[4,6,16,16,0],[4,10,16,32,0],[8,16,32,32,0],[8,16,128,128,0],[8,32,128,256,0],[32,128,258,1024,1],[32,258,258,4096,1]][i],o=a.F.U,l=a.F._goodIndex;a.F._hash;var s=a.F._putsE,c=0,u=n<<3,h=0,d=e.length;if(0==i){for(;c<d;)s(r,u,+(c+(E=Math.min(65535,d-c))==d)),u=a.F._copyExact(e,c,E,r,u+8),c+=E;return u>>>3}var g=o.lits,p=o.strt,m=o.prev,A=0,w=0,b=0,v=0,y=0,x=0;for(d>2&&(p[x=a.F._hash(e,0)]=0),c=0;c<d;c++){if(y=x,c+1<d-2){x=a.F._hash(e,c+1);var U=c+1&32767;m[U]=p[x],p[x]=U}if(h<=c){(A>14e3||w>26697)&&d-c>100&&(h<c&&(g[A]=c-h,A+=2,h=c),u=a.F._writeBlock(+(c==d-1||h==d),g,A,v,e,b,c-b,r,u),A=w=v=0,b=c);var F=0;c<d-2&&(F=a.F._bestMatch(e,c,m,y,Math.min(f[2],d-c),f[3]));var E=F>>>16,B=65535&F;if(0!=F){B=65535&F;var C=l(E=F>>>16,o.of0);o.lhst[257+C]++;var _=l(B,o.df0);o.dhst[_]++,v+=o.exb[C]+o.dxb[_],g[A]=E<<23|c-h,g[A+1]=B<<16|C<<8|_,A+=2,h=c+E}else o.lhst[e[c]]++;w++}}for(b==c&&0!=e.length||(h<c&&(g[A]=c-h,A+=2,h=c),u=a.F._writeBlock(1,g,A,v,e,b,c-b,r,u),A=0,w=0,A=w=v=0,b=c);0!=(7&u);)u++;return u>>>3},a.F._bestMatch=function(e,r,n,i,f,o){var l=32767&r,s=n[l],c=l-s+32768&32767;if(s==l||i!=a.F._hash(e,r-c))return 0;for(var u=0,h=0,d=Math.min(32767,r);c<=d&&0!=--o&&s!=l;){if(0==u||e[r+u]==e[r+u-c]){var g=a.F._howLong(e,r,c);if(g>u){if(h=c,(u=g)>=f)break;c+2<g&&(g=c+2);for(var p=0,m=0;m<g-2;m++){var A=r-c+m+32768&32767,w=A-n[A]+32768&32767;w>p&&(p=w,s=A)}}}c+=(l=s)-(s=n[l])+32768&32767}return u<<16|h},a.F._howLong=function(e,r,n){if(e[r]!=e[r-n]||e[r+1]!=e[r+1-n]||e[r+2]!=e[r+2-n])return 0;var i=r,a=Math.min(e.length,r+258);for(r+=3;r<a&&e[r]==e[r-n];)r++;return r-i},a.F._hash=function(e,r){return(e[r]<<8|e[r+1])+(e[r+2]<<4)&65535},a.saved=0,a.F._writeBlock=function(e,r,n,i,f,o,l,s,c){var u,h,d,g,p,m,A,w,b,v,y,x=a.F.U,U=a.F._putsF,F=a.F._putsE;x.lhst[256]++,g=(d=a.F.getTrees())[0],p=d[1],m=d[2],A=d[3],w=d[4],b=d[5],v=d[6],y=d[7];var E=32+(0==(c+3&7)?0:8-(c+3&7))+(l<<3),B=i+a.F.contSize(x.fltree,x.lhst)+a.F.contSize(x.fdtree,x.dhst),C=i+a.F.contSize(x.ltree,x.lhst)+a.F.contSize(x.dtree,x.dhst);C+=14+3*b+a.F.contSize(x.itree,x.ihst)+(2*x.ihst[16]+3*x.ihst[17]+7*x.ihst[18]);for(var _=0;_<286;_++)x.lhst[_]=0;for(_=0;_<30;_++)x.dhst[_]=0;for(_=0;_<19;_++)x.ihst[_]=0;var M=E<B&&E<C?0:B<C?1:2;if(U(s,c,e),U(s,c+1,M),c+=3,0==M){for(;0!=(7&c);)c++;c=a.F._copyExact(f,o,l,s,c)}else{if(1==M&&(u=x.fltree,h=x.fdtree),2==M){a.F.makeCodes(x.ltree,g),a.F.revCodes(x.ltree,g),a.F.makeCodes(x.dtree,p),a.F.revCodes(x.dtree,p),a.F.makeCodes(x.itree,m),a.F.revCodes(x.itree,m),u=x.ltree,h=x.dtree,F(s,c,A-257),F(s,c+=5,w-1),F(s,c+=5,b-4),c+=4;for(var I=0;I<b;I++)F(s,c+3*I,x.itree[1+(x.ordr[I]<<1)]);c+=3*b,c=a.F._codeTiny(v,x.itree,s,c),c=a.F._codeTiny(y,x.itree,s,c)}for(var R=o,S=0;S<n;S+=2){for(var T=r[S],k=T>>>23,Q=R+(8388607&T);R<Q;)c=a.F._writeLit(f[R++],u,s,c);if(0!=k){var L=r[S+1],j=L>>16,O=L>>8&255,N=255&L;F(s,c=a.F._writeLit(257+O,u,s,c),k-x.of0[O]),c+=x.exb[O],U(s,c=a.F._writeLit(N,h,s,c),j-x.df0[N]),c+=x.dxb[N],R+=k}}c=a.F._writeLit(256,u,s,c)}return c},a.F._copyExact=function(e,r,n,i,a){var f=a>>>3;return i[f]=n,i[f+1]=n>>>8,i[f+2]=255-i[f],i[f+3]=255-i[f+1],f+=4,i.set(new Uint8Array(e.buffer,r,n),f),a+(n+4<<3)},a.F.getTrees=function(){for(var e=a.F.U,r=a.F._hufTree(e.lhst,e.ltree,15),n=a.F._hufTree(e.dhst,e.dtree,15),i=[],f=a.F._lenCodes(e.ltree,i),o=[],l=a.F._lenCodes(e.dtree,o),s=0;s<i.length;s+=2)e.ihst[i[s]]++;for(s=0;s<o.length;s+=2)e.ihst[o[s]]++;for(var c=a.F._hufTree(e.ihst,e.itree,7),u=19;u>4&&0==e.itree[1+(e.ordr[u-1]<<1)];)u--;return[r,n,c,f,l,u,i,o]},a.F.getSecond=function(e){for(var r=[],n=0;n<e.length;n+=2)r.push(e[n+1]);return r},a.F.nonZero=function(e){for(var r="",n=0;n<e.length;n+=2)0!=e[n+1]&&(r+=(n>>1)+",");return r},a.F.contSize=function(e,r){for(var n=0,i=0;i<r.length;i++)n+=r[i]*e[1+(i<<1)];return n},a.F._codeTiny=function(e,r,n,i){for(var f=0;f<e.length;f+=2){var o=e[f],l=e[f+1];i=a.F._writeLit(o,r,n,i);var s=16==o?2:17==o?3:7;o>15&&(a.F._putsE(n,i,l,s),i+=s)}return i},a.F._lenCodes=function(e,r){for(var n=e.length;2!=n&&0==e[n-1];)n-=2;for(var i=0;i<n;i+=2){var a=e[i+1],f=i+3<n?e[i+3]:-1,o=i+5<n?e[i+5]:-1,l=0==i?-1:e[i-1];if(0==a&&f==a&&o==a){for(var s=i+5;s+2<n&&e[s+2]==a;)s+=2;(c=Math.min(s+1-i>>>1,138))<11?r.push(17,c-3):r.push(18,c-11),i+=2*c-2}else if(a==l&&f==a&&o==a){for(s=i+5;s+2<n&&e[s+2]==a;)s+=2;var c=Math.min(s+1-i>>>1,6);r.push(16,c-3),i+=2*c-2}else r.push(a,0)}return n>>>1},a.F._hufTree=function(e,r,n){var i=[],f=e.length,o=r.length,l=0;for(l=0;l<o;l+=2)r[l]=0,r[l+1]=0;for(l=0;l<f;l++)0!=e[l]&&i.push({lit:l,f:e[l]});var s=i.length,c=i.slice(0);if(0==s)return 0;if(1==s){var u=i[0].lit;return c=+(0==u),r[1+(u<<1)]=1,r[1+(c<<1)]=1,1}i.sort(function(e,r){return e.f-r.f});var h=i[0],d=i[1],g=0,p=1,m=2;for(i[0]={lit:-1,f:h.f+d.f,l:h,r:d,d:0};p!=s-1;)h=g!=p&&(m==s||i[g].f<i[m].f)?i[g++]:i[m++],d=g!=p&&(m==s||i[g].f<i[m].f)?i[g++]:i[m++],i[p++]={lit:-1,f:h.f+d.f,l:h,r:d};var A=a.F.setDepth(i[p-1],0);for(A>n&&(a.F.restrictDepth(c,n,A),A=n),l=0;l<s;l++)r[1+(c[l].lit<<1)]=c[l].d;return A},a.F.setDepth=function(e,r){return -1!=e.lit?(e.d=r,r):Math.max(a.F.setDepth(e.l,r+1),a.F.setDepth(e.r,r+1))},a.F.restrictDepth=function(e,r,n){var i=0,a=1<<n-r,f=0;for(e.sort(function(e,r){return r.d==e.d?e.f-r.f:r.d-e.d}),i=0;i<e.length&&e[i].d>r;i++){var o=e[i].d;e[i].d=r,f+=a-(1<<n-o)}for(f>>>=n-r;f>0;)(o=e[i].d)<r?(e[i].d++,f-=1<<r-o-1):i++;for(;i>=0;i--)e[i].d==r&&f<0&&(e[i].d--,f++);0!=f&&console.log("debt left")},a.F._goodIndex=function(e,r){var n=0;return r[16]<=e&&(n|=16),r[8|n]<=e&&(n|=8),r[4|n]<=e&&(n|=4),r[2|n]<=e&&(n|=2),r[1|n]<=e&&(n|=1),n},a.F._writeLit=function(e,r,n,i){return a.F._putsF(n,i,r[e<<1]),i+r[1+(e<<1)]},a.F.inflate=function(e,r){var n=Uint8Array;if(3==e[0]&&0==e[1])return r||new n(0);var i=a.F,f=i._bitsF,o=i._bitsE,l=i._decodeTiny,s=i.makeCodes,c=i.codes2map,u=i._get17,h=i.U,d=null==r;d&&(r=new n(e.length>>>2<<3));for(var g,p,m=0,A=0,w=0,b=0,v=0,y=0,x=0,U=0,F=0;0==m;)if(m=f(e,F,1),A=f(e,F+1,2),F+=3,0!=A){if(d&&(r=a.F._check(r,U+131072)),1==A&&(g=h.flmap,p=h.fdmap,y=511,x=31),2==A){w=o(e,F,5)+257,b=o(e,F+5,5)+1,v=o(e,F+10,4)+4,F+=14;for(var E=0;E<38;E+=2)h.itree[E]=0,h.itree[E+1]=0;var B=1;for(E=0;E<v;E++){var C=o(e,F+3*E,3);h.itree[1+(h.ordr[E]<<1)]=C,C>B&&(B=C)}F+=3*v,s(h.itree,B),c(h.itree,B,h.imap),g=h.lmap,p=h.dmap,F=l(h.imap,(1<<B)-1,w+b,e,F,h.ttree);var _=i._copyOut(h.ttree,0,w,h.ltree);y=(1<<_)-1;var M=i._copyOut(h.ttree,w,b,h.dtree);x=(1<<M)-1,s(h.ltree,_),c(h.ltree,_,g),s(h.dtree,M),c(h.dtree,M,p)}for(;;){var I=g[u(e,F)&y];F+=15&I;var R=I>>>4;if(R>>>8==0)r[U++]=R;else{if(256==R)break;var S=U+R-254;if(R>264){var T=h.ldef[R-257];S=U+(T>>>3)+o(e,F,7&T),F+=7&T}var k=p[u(e,F)&x];F+=15&k;var Q=k>>>4,L=h.ddef[Q],j=(L>>>4)+f(e,F,15&L);for(F+=15&L,d&&(r=a.F._check(r,U+131072));U<S;)r[U]=r[U++-j],r[U]=r[U++-j],r[U]=r[U++-j],r[U]=r[U++-j];U=S}}}else{0!=(7&F)&&(F+=8-(7&F));var O=4+(F>>>3),N=e[O-4]|e[O-3]<<8;d&&(r=a.F._check(r,U+N)),r.set(new n(e.buffer,e.byteOffset+O,N),U),F=O+N<<3,U+=N}return r.length==U?r:r.slice(0,U)},a.F._check=function(e,r){var n=e.length;if(r<=n)return e;var i=new Uint8Array(Math.max(n<<1,r));return i.set(e,0),i},a.F._decodeTiny=function(e,r,n,i,f,o){for(var l=a.F._bitsE,s=a.F._get17,c=0;c<n;){var u=e[s(i,f)&r];f+=15&u;var h=u>>>4;if(h<=15)o[c]=h,c++;else{var d=0,g=0;16==h?(g=3+l(i,f,2),f+=2,d=o[c-1]):17==h?(g=3+l(i,f,3),f+=3):18==h&&(g=11+l(i,f,7),f+=7);for(var p=c+g;c<p;)o[c]=d,c++}}return f},a.F._copyOut=function(e,r,n,i){for(var a=0,f=0,o=i.length>>>1;f<n;){var l=e[f+r];i[f<<1]=0,i[1+(f<<1)]=l,l>a&&(a=l),f++}for(;f<o;)i[f<<1]=0,i[1+(f<<1)]=0,f++;return a},a.F.makeCodes=function(e,r){for(var n,i,f,o,l=a.F.U,s=e.length,c=l.bl_count,u=0;u<=r;u++)c[u]=0;for(u=1;u<s;u+=2)c[e[u]]++;var h=l.next_code;for(n=0,c[0]=0,i=1;i<=r;i++)n=n+c[i-1]<<1,h[i]=n;for(f=0;f<s;f+=2)0!=(o=e[f+1])&&(e[f]=h[o],h[o]++)},a.F.codes2map=function(e,r,n){for(var i=e.length,f=a.F.U.rev15,o=0;o<i;o+=2)if(0!=e[o+1])for(var l=o>>1,s=e[o+1],c=l<<4|s,u=r-s,h=e[o]<<u,d=h+(1<<u);h!=d;)n[f[h]>>>15-r]=c,h++},a.F.revCodes=function(e,r){for(var n=a.F.U.rev15,i=15-r,f=0;f<e.length;f+=2){var o=e[f]<<r-e[f+1];e[f]=n[o]>>>i}},a.F._putsE=function(e,r,n){n<<=7&r;var i=r>>>3;e[i]|=n,e[i+1]|=n>>>8},a.F._putsF=function(e,r,n){n<<=7&r;var i=r>>>3;e[i]|=n,e[i+1]|=n>>>8,e[i+2]|=n>>>16},a.F._bitsE=function(e,r,n){return(e[r>>>3]|e[1+(r>>>3)]<<8)>>>(7&r)&(1<<n)-1},a.F._bitsF=function(e,r,n){return(e[r>>>3]|e[1+(r>>>3)]<<8|e[2+(r>>>3)]<<16)>>>(7&r)&(1<<n)-1},a.F._get17=function(e,r){return(e[r>>>3]|e[1+(r>>>3)]<<8|e[2+(r>>>3)]<<16)>>>(7&r)},a.F._get25=function(e,r){return(e[r>>>3]|e[1+(r>>>3)]<<8|e[2+(r>>>3)]<<16|e[3+(r>>>3)]<<24)>>>(7&r)},a.F.U=(n=Uint16Array,i=Uint32Array,{next_code:new n(16),bl_count:new n(16),ordr:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],of0:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],exb:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],ldef:new n(32),df0:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],dxb:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],ddef:new i(32),flmap:new n(512),fltree:[],fdmap:new n(32),fdtree:[],lmap:new n(32768),ltree:[],ttree:[],dmap:new n(32768),dtree:[],imap:new n(512),itree:[],rev15:new n(32768),lhst:new i(286),dhst:new i(30),ihst:new i(19),lits:new i(15e3),strt:new n(65536),prev:new n(32768)}),function(){for(var e=a.F.U,r=0;r<32768;r++){var n=r;n=(0xff00ff00&(n=(0xf0f0f0f0&(n=(0xcccccccc&(n=(0xaaaaaaaa&n)>>>1|(0x55555555&n)<<1))>>>2|(0x33333333&n)<<2))>>>4|(0xf0f0f0f&n)<<4))>>>8|(0xff00ff&n)<<8,e.rev15[r]=(n>>>16|n<<16)>>>17}function i(e,r,n){for(;0!=r--;)e.push(0,n)}for(r=0;r<32;r++)e.ldef[r]=e.of0[r]<<3|e.exb[r],e.ddef[r]=e.df0[r]<<4|e.dxb[r];i(e.fltree,144,8),i(e.fltree,112,9),i(e.fltree,24,7),i(e.fltree,8,8),a.F.makeCodes(e.fltree,9),a.F.codes2map(e.fltree,9,e.flmap),a.F.revCodes(e.fltree,9),i(e.fdtree,32,5),a.F.makeCodes(e.fdtree,5),a.F.codes2map(e.fdtree,5,e.fdmap),a.F.revCodes(e.fdtree,5),i(e.itree,19,0),i(e.ltree,286,0),i(e.dtree,30,0),i(e.ttree,320,0)}();var p=(f={__proto__:null,default:g},[g].forEach(function(e){e&&"string"!=typeof e&&!Array.isArray(e)&&Object.keys(e).forEach(function(r){if("default"!==r&&!(r in f)){var n=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(f,r,n.get?n:{enumerable:!0,get:function(){return e[r]}})}})}),Object.freeze(f));let m=function(){let e,r,n;var i={nextZero(e,r){for(;0!=e[r];)r++;return r},readUshort:(e,r)=>e[r]<<8|e[r+1],writeUshort(e,r,n){e[r]=n>>8&255,e[r+1]=255&n},readUint:(e,r)=>0x1000000*e[r]+(e[r+1]<<16|e[r+2]<<8|e[r+3]),writeUint(e,r,n){e[r]=n>>24&255,e[r+1]=n>>16&255,e[r+2]=n>>8&255,e[r+3]=255&n},readASCII(e,r,n){let i="";for(let a=0;a<n;a++)i+=String.fromCharCode(e[r+a]);return i},writeASCII(e,r,n){for(let i=0;i<n.length;i++)e[r+i]=n.charCodeAt(i)},readBytes(e,r,n){let i=[];for(let a=0;a<n;a++)i.push(e[r+a]);return i},pad:e=>e.length<2?`0${e}`:e,readUTF8(e,r,n){let a,f="";for(let a=0;a<n;a++)f+=`%${i.pad(e[r+a].toString(16))}`;try{a=decodeURIComponent(f)}catch(a){return i.readASCII(e,r,n)}return a}};function a(e,r,n,a){let f=r*n,o=Math.ceil(r*s(a)/8),l=new Uint8Array(4*f),c=new Uint32Array(l.buffer),{ctype:u}=a,{depth:h}=a,d=i.readUshort;if(6==u){let r=f<<2;if(8==h)for(var g=0;g<r;g+=4)l[g]=e[g],l[g+1]=e[g+1],l[g+2]=e[g+2],l[g+3]=e[g+3];if(16==h)for(g=0;g<r;g++)l[g]=e[g<<1]}else if(2==u){let r=a.tabs.tRNS;if(null==r){if(8==h)for(g=0;g<f;g++){var p=3*g;c[g]=-0x1000000|e[p+2]<<16|e[p+1]<<8|e[p]}if(16==h)for(g=0;g<f;g++)p=6*g,c[g]=-0x1000000|e[p+4]<<16|e[p+2]<<8|e[p]}else{var m=r[0];let n=r[1],i=r[2];if(8==h)for(g=0;g<f;g++){var A=g<<2;p=3*g,c[g]=-0x1000000|e[p+2]<<16|e[p+1]<<8|e[p],e[p]==m&&e[p+1]==n&&e[p+2]==i&&(l[A+3]=0)}if(16==h)for(g=0;g<f;g++)A=g<<2,p=6*g,c[g]=-0x1000000|e[p+4]<<16|e[p+2]<<8|e[p],d(e,p)==m&&d(e,p+2)==n&&d(e,p+4)==i&&(l[A+3]=0)}}else if(3==u){let i=a.tabs.PLTE,s=a.tabs.tRNS,c=s?s.length:0;if(1==h)for(var w,b=0;b<n;b++){var v=b*o,y=b*r;for(g=0;g<r;g++){A=y+g<<2;var x=3*(w=e[v+(g>>3)]>>7-(7&g)&1);l[A]=i[x],l[A+1]=i[x+1],l[A+2]=i[x+2],l[A+3]=w<c?s[w]:255}}if(2==h)for(b=0;b<n;b++)for(v=b*o,y=b*r,g=0;g<r;g++)A=y+g<<2,x=3*(w=e[v+(g>>2)]>>6-((3&g)<<1)&3),l[A]=i[x],l[A+1]=i[x+1],l[A+2]=i[x+2],l[A+3]=w<c?s[w]:255;if(4==h)for(b=0;b<n;b++)for(v=b*o,y=b*r,g=0;g<r;g++)A=y+g<<2,x=3*(w=e[v+(g>>1)]>>4-((1&g)<<2)&15),l[A]=i[x],l[A+1]=i[x+1],l[A+2]=i[x+2],l[A+3]=w<c?s[w]:255;if(8==h)for(g=0;g<f;g++)A=g<<2,x=3*(w=e[g]),l[A]=i[x],l[A+1]=i[x+1],l[A+2]=i[x+2],l[A+3]=w<c?s[w]:255}else if(4==u){if(8==h)for(g=0;g<f;g++){A=g<<2;var U,F=e[U=g<<1];l[A]=F,l[A+1]=F,l[A+2]=F,l[A+3]=e[U+1]}if(16==h)for(g=0;g<f;g++)A=g<<2,F=e[U=g<<2],l[A]=F,l[A+1]=F,l[A+2]=F,l[A+3]=e[U+2]}else if(0==u)for(m=a.tabs.tRNS?a.tabs.tRNS:-1,b=0;b<n;b++){let n=b*o,i=b*r;if(1==h)for(var E=0;E<r;E++){var B=255*((F=255*(e[n+(E>>>3)]>>>7-(7&E)&1))!=255*m);c[i+E]=B<<24|F<<16|F<<8|F}else if(2==h)for(E=0;E<r;E++)B=255*((F=85*(e[n+(E>>>2)]>>>6-((3&E)<<1)&3))!=85*m),c[i+E]=B<<24|F<<16|F<<8|F;else if(4==h)for(E=0;E<r;E++)B=255*((F=17*(e[n+(E>>>1)]>>>4-((1&E)<<2)&15))!=17*m),c[i+E]=B<<24|F<<16|F<<8|F;else if(8==h)for(E=0;E<r;E++)B=255*((F=e[n+E])!=m),c[i+E]=B<<24|F<<16|F<<8|F;else if(16==h)for(E=0;E<r;E++)F=e[n+(E<<1)],B=255*(d(e,n+(E<<1))!=m),c[i+E]=B<<24|F<<16|F<<8|F}return l}function f(e,r,n,i){let a=new Uint8Array((Math.ceil(n*s(e)/8)+1+e.interlace)*i);return r=e.tabs.CgBI?l(r,a):o(r,a),0==e.interlace?r=c(r,e,0,n,i):1==e.interlace&&(r=function(e,r){let n=r.width,i=r.height,a=s(r),f=a>>3,o=Math.ceil(n*a/8),l=new Uint8Array(i*o),u=0,h=[0,0,4,0,2,0,1],d=[0,4,0,2,0,1,0],g=[8,8,8,4,4,2,2],p=[8,8,4,4,2,2,1],m=0;for(;m<7;){let s=g[m],w=p[m],b=0,v=0,y=h[m];for(;y<i;)y+=s,v++;let x=d[m];for(;x<n;)x+=w,b++;let U=Math.ceil(b*a/8);c(e,r,u,b,v);let F=0,E=h[m];for(;E<i;){let r=d[m],i=u+F*U<<3;for(;r<n;){var A;if(1==a&&(A=(A=e[i>>3])>>7-(7&i)&1,l[E*o+(r>>3)]|=A<<7-(7&r)),2==a&&(A=(A=e[i>>3])>>6-(7&i)&3,l[E*o+(r>>2)]|=A<<6-((3&r)<<1)),4==a&&(A=(A=e[i>>3])>>4-(7&i)&15,l[E*o+(r>>1)]|=A<<4-((1&r)<<2)),a>=8){let n=E*o+r*f;for(let r=0;r<f;r++)l[n+r]=e[(i>>3)+r]}i+=a,r+=w}F++,E+=s}b*v!=0&&(u+=v*(1+U)),m+=1}return l}(r,e)),r}function o(e,r){return l(new Uint8Array(e.buffer,2,e.length-6),r)}var l=((e={}).N=function(r,n){let i=Uint8Array,a,f,o=0,l=0,s=0,c=0,u=0,h=0,d=0,g=0,p=0;if(3==r[0]&&0==r[1])return n||new i(0);let m=e.b,A=e.e,w=e.R,b=e.n,v=e.A,y=e.Z,x=e.m,U=null==n;for(U&&(n=new i(r.length>>>2<<5));0==o;)if(o=m(r,p,1),l=m(r,p+1,2),p+=3,0!=l){if(U&&(n=e.W(n,g+131072)),1==l&&(a=x.J,f=x.h,h=511,d=31),2==l){s=A(r,p,5)+257,c=A(r,p+5,5)+1,u=A(r,p+10,4)+4,p+=14;let n=1;for(var F=0;F<38;F+=2)x.Q[F]=0,x.Q[F+1]=0;for(F=0;F<u;F++){let e=A(r,p+3*F,3);x.Q[1+(x.X[F]<<1)]=e,e>n&&(n=e)}p+=3*u,b(x.Q,n),v(x.Q,n,x.u),a=x.w,f=x.d,p=w(x.u,(1<<n)-1,s+c,r,p,x.v);let i=e.V(x.v,0,s,x.C);h=(1<<i)-1;let o=e.V(x.v,s,c,x.D);d=(1<<o)-1,b(x.C,i),v(x.C,i,a),b(x.D,o),v(x.D,o,f)}for(;;){let e=a[y(r,p)&h];p+=15&e;let i=e>>>4;if(i>>>8==0)n[g++]=i;else{if(256==i)break;{let e=g+i-254;if(i>264){let n=x.q[i-257];e=g+(n>>>3)+A(r,p,7&n),p+=7&n}let a=f[y(r,p)&d];p+=15&a;let o=a>>>4,l=x.c[o],s=(l>>>4)+m(r,p,15&l);for(p+=15&l;g<e;)n[g]=n[g++-s],n[g]=n[g++-s],n[g]=n[g++-s],n[g]=n[g++-s];g=e}}}}else{0!=(7&p)&&(p+=8-(7&p));let a=4+(p>>>3),f=r[a-4]|r[a-3]<<8;U&&(n=e.W(n,g+f)),n.set(new i(r.buffer,r.byteOffset+a,f),g),p=a+f<<3,g+=f}return n.length==g?n:n.slice(0,g)},e.W=function(e,r){let n=e.length;if(r<=n)return e;let i=new Uint8Array(n<<1);return i.set(e,0),i},e.R=function(r,n,i,a,f,o){let l=e.e,s=e.Z,c=0;for(;c<i;){let e=r[s(a,f)&n];f+=15&e;let i=e>>>4;if(i<=15)o[c]=i,c++;else{let e=0,r=0;16==i?(r=3+l(a,f,2),f+=2,e=o[c-1]):17==i?(r=3+l(a,f,3),f+=3):18==i&&(r=11+l(a,f,7),f+=7);let n=c+r;for(;c<n;)o[c]=e,c++}}return f},e.V=function(e,r,n,i){let a=0,f=0,o=i.length>>>1;for(;f<n;){let n=e[f+r];i[f<<1]=0,i[1+(f<<1)]=n,n>a&&(a=n),f++}for(;f<o;)i[f<<1]=0,i[1+(f<<1)]=0,f++;return a},e.n=function(r,n){let i,a,f,o,l=e.m,s=r.length,c=l.j;for(var u=0;u<=n;u++)c[u]=0;for(u=1;u<s;u+=2)c[r[u]]++;let h=l.K;for(i=0,c[0]=0,a=1;a<=n;a++)i=i+c[a-1]<<1,h[a]=i;for(f=0;f<s;f+=2)0!=(o=r[f+1])&&(r[f]=h[o],h[o]++)},e.A=function(r,n,i){let a=r.length,f=e.m.r;for(let e=0;e<a;e+=2)if(0!=r[e+1]){let a=e>>1,o=r[e+1],l=a<<4|o,s=n-o,c=r[e]<<s,u=c+(1<<s);for(;c!=u;)i[f[c]>>>15-n]=l,c++}},e.l=function(r,n){let i=e.m.r,a=15-n;for(let e=0;e<r.length;e+=2){let f=r[e]<<n-r[e+1];r[e]=i[f]>>>a}},e.M=function(e,r,n){n<<=7&r;let i=r>>>3;e[i]|=n,e[i+1]|=n>>>8},e.I=function(e,r,n){n<<=7&r;let i=r>>>3;e[i]|=n,e[i+1]|=n>>>8,e[i+2]|=n>>>16},e.e=function(e,r,n){return(e[r>>>3]|e[1+(r>>>3)]<<8)>>>(7&r)&(1<<n)-1},e.b=function(e,r,n){return(e[r>>>3]|e[1+(r>>>3)]<<8|e[2+(r>>>3)]<<16)>>>(7&r)&(1<<n)-1},e.Z=function(e,r){return(e[r>>>3]|e[1+(r>>>3)]<<8|e[2+(r>>>3)]<<16)>>>(7&r)},e.i=function(e,r){return(e[r>>>3]|e[1+(r>>>3)]<<8|e[2+(r>>>3)]<<16|e[3+(r>>>3)]<<24)>>>(7&r)},r=Uint16Array,n=Uint32Array,e.m={K:new r(16),j:new r(16),X:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],S:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],T:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],q:new r(32),p:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],z:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],c:new n(32),J:new r(512),_:[],h:new r(32),$:[],w:new r(32768),C:[],v:[],d:new r(32768),D:[],u:new r(512),Q:[],r:new r(32768),s:new n(286),Y:new n(30),a:new n(19),t:new n(15e3),k:new r(65536),g:new r(32768)},function(){let r=e.m;for(var n=0;n<32768;n++){let e=n;e=(0xff00ff00&(e=(0xf0f0f0f0&(e=(0xcccccccc&(e=(0xaaaaaaaa&e)>>>1|(0x55555555&e)<<1))>>>2|(0x33333333&e)<<2))>>>4|(0xf0f0f0f&e)<<4))>>>8|(0xff00ff&e)<<8,r.r[n]=(e>>>16|e<<16)>>>17}function i(e,r,n){for(;0!=r--;)e.push(0,n)}for(n=0;n<32;n++)r.q[n]=r.S[n]<<3|r.T[n],r.c[n]=r.p[n]<<4|r.z[n];i(r._,144,8),i(r._,112,9),i(r._,24,7),i(r._,8,8),e.n(r._,9),e.A(r._,9,r.J),e.l(r._,9),i(r.$,32,5),e.n(r.$,5),e.A(r.$,5,r.h),e.l(r.$,5),i(r.Q,19,0),i(r.C,286,0),i(r.D,30,0),i(r.v,320,0)}(),e.N);function s(e){return[1,null,3,1,2,null,4][e.ctype]*e.depth}function c(e,r,n,i,a){let f,o,l=s(r),c=Math.ceil(i*l/8);l=Math.ceil(l/8);let h=e[n],d=0;if(h>1&&(e[n]=[0,0,1][h-2]),3==h)for(d=l;d<c;d++)e[d+1]=e[d+1]+(e[d+1-l]>>>1)&255;for(let r=0;r<a;r++)if(h=e[(o=(f=n+r*c)+r+1)-1],d=0,0==h)for(;d<c;d++)e[f+d]=e[o+d];else if(1==h){for(;d<l;d++)e[f+d]=e[o+d];for(;d<c;d++)e[f+d]=e[o+d]+e[f+d-l]}else if(2==h)for(;d<c;d++)e[f+d]=e[o+d]+e[f+d-c];else if(3==h){for(;d<l;d++)e[f+d]=e[o+d]+(e[f+d-c]>>>1);for(;d<c;d++)e[f+d]=e[o+d]+(e[f+d-c]+e[f+d-l]>>>1)}else{for(;d<l;d++)e[f+d]=e[o+d]+u(0,e[f+d-c],0);for(;d<c;d++)e[f+d]=e[o+d]+u(e[f+d-l],e[f+d-c],e[f+d-l-c])}return e}function u(e,r,n){let i=e+r-n,a=i-e,f=i-r,o=i-n;return a*a<=f*f&&a*a<=o*o?e:f*f<=o*o?r:n}function h(e,r,n,i,a,f,o,l,s){let c=Math.min(r,a),u=Math.min(n,f),h=0,d=0;for(let n=0;n<u;n++)for(let f=0;f<c;f++)if(o>=0&&l>=0?(h=n*r+f<<2,d=(l+n)*a+o+f<<2):(h=(-l+n)*r-o+f<<2,d=n*a+f<<2),0==s)i[d]=e[h],i[d+1]=e[h+1],i[d+2]=e[h+2],i[d+3]=e[h+3];else if(1==s){var g=e[h+3]*(1/255),p=e[h]*g,m=e[h+1]*g,A=e[h+2]*g,w=i[d+3]*(1/255),b=i[d]*w,v=i[d+1]*w,y=i[d+2]*w;let r=1-g,n=g+w*r,a=0==n?0:1/n;i[d+3]=255*n,i[d+0]=(p+b*r)*a,i[d+1]=(m+v*r)*a,i[d+2]=(A+y*r)*a}else if(2==s)g=e[h+3],p=e[h],m=e[h+1],A=e[h+2],w=i[d+3],b=i[d],v=i[d+1],y=i[d+2],g==w&&p==b&&m==v&&A==y?(i[d]=0,i[d+1]=0,i[d+2]=0,i[d+3]=0):(i[d]=p,i[d+1]=m,i[d+2]=A,i[d+3]=g);else if(3==s){if(g=e[h+3],p=e[h],m=e[h+1],A=e[h+2],w=i[d+3],b=i[d],v=i[d+1],y=i[d+2],g==w&&p==b&&m==v&&A==y)continue;if(g<220&&w>20)return!1}return!0}return{decode:function(e){let r=new Uint8Array(e),n=8,a=i.readUshort,s=i.readUint,c={tabs:{},frames:[]},u=new Uint8Array(r.length),h,d=0,g=0,p=[137,80,78,71,13,10,26,10];for(var m,A=0;A<8;A++)if(r[A]!=p[A])throw"The input is not a PNG file!";for(;n<r.length;){let e=i.readUint(r,n);n+=4;let p=i.readASCII(r,n,4);if(n+=4,"IHDR"==p)w=n,c.width=i.readUint(r,w),w+=4,c.height=i.readUint(r,w),c.depth=r[w+=4],c.ctype=r[++w],c.compress=r[++w],c.filter=r[++w],c.interlace=r[++w],w++;else if("iCCP"==p){for(var w,b,v=n;0!=r[v];)v++;i.readASCII(r,n,v-n),r[v+1];let a=r.slice(v+2,n+e),f=null;try{f=o(a)}catch(e){f=l(a)}c.tabs[p]=f}else if("CgBI"==p)c.tabs[p]=r.slice(n,n+4);else if("IDAT"==p){for(A=0;A<e;A++)u[d+A]=r[n+A];d+=e}else if("acTL"==p)c.tabs[p]={num_frames:s(r,n),num_plays:s(r,n+4)},h=new Uint8Array(r.length);else if("fcTL"==p){0!=g&&((m=c.frames[c.frames.length-1]).data=f(c,h.slice(0,g),m.rect.width,m.rect.height),g=0);let e={x:s(r,n+12),y:s(r,n+16),width:s(r,n+4),height:s(r,n+8)},i=a(r,n+22),o={rect:e,delay:Math.round(1e3*(i=a(r,n+20)/(0==i?100:i))),dispose:r[n+24],blend:r[n+25]};c.frames.push(o)}else if("fdAT"==p){for(A=0;A<e-4;A++)h[g+A]=r[n+A+4];g+=e-4}else if("pHYs"==p)c.tabs[p]=[i.readUint(r,n),i.readUint(r,n+4),r[n+8]];else if("cHRM"==p)for(A=0,c.tabs[p]=[];A<8;A++)c.tabs[p].push(i.readUint(r,n+4*A));else if("tEXt"==p||"zTXt"==p){null==c.tabs[p]&&(c.tabs[p]={});var y=i.nextZero(r,n),x=i.readASCII(r,n,y-n),U=n+e-y-1;if("tEXt"==p)b=i.readASCII(r,y+1,U);else{var F=o(r.slice(y+2,y+2+U));b=i.readUTF8(F,0,F.length)}c.tabs[p][x]=b}else if("iTXt"==p){null==c.tabs[p]&&(c.tabs[p]={}),y=0,v=n,y=i.nextZero(r,v),x=i.readASCII(r,v,y-v);let a=r[v=y+1];r[v+1],v+=2,y=i.nextZero(r,v),i.readASCII(r,v,y-v),v=y+1,y=i.nextZero(r,v),i.readUTF8(r,v,y-v),U=e-((v=y+1)-n),0==a?b=i.readUTF8(r,v,U):(F=o(r.slice(v,v+U)),b=i.readUTF8(F,0,F.length)),c.tabs[p][x]=b}else if("PLTE"==p)c.tabs[p]=i.readBytes(r,n,e);else if("hIST"==p){let e=c.tabs.PLTE.length/3;for(A=0,c.tabs[p]=[];A<e;A++)c.tabs[p].push(a(r,n+2*A))}else if("tRNS"==p)3==c.ctype?c.tabs[p]=i.readBytes(r,n,e):0==c.ctype?c.tabs[p]=a(r,n):2==c.ctype&&(c.tabs[p]=[a(r,n),a(r,n+2),a(r,n+4)]);else if("gAMA"==p)c.tabs[p]=i.readUint(r,n)/1e5;else if("sRGB"==p)c.tabs[p]=r[n];else if("bKGD"==p)0==c.ctype||4==c.ctype?c.tabs[p]=[a(r,n)]:2==c.ctype||6==c.ctype?c.tabs[p]=[a(r,n),a(r,n+2),a(r,n+4)]:3==c.ctype&&(c.tabs[p]=r[n]);else if("IEND"==p)break;n+=e,i.readUint(r,n),n+=4}return 0!=g&&((m=c.frames[c.frames.length-1]).data=f(c,h.slice(0,g),m.rect.width,m.rect.height)),c.data=f(c,u,c.width,c.height),delete c.compress,delete c.interlace,delete c.filter,c},toRGBA8:function(e){let r=e.width,n=e.height;if(null==e.tabs.acTL)return[a(e.data,r,n,e).buffer];let i=[];null==e.frames[0].data&&(e.frames[0].data=e.data);let f=r*n*4,o=new Uint8Array(f),l=new Uint8Array(f),s=new Uint8Array(f);for(let u=0;u<e.frames.length;u++){let d=e.frames[u],g=d.rect.x,p=d.rect.y,m=d.rect.width,A=d.rect.height,w=a(d.data,m,A,e);if(0!=u)for(var c=0;c<f;c++)s[c]=o[c];if(0==d.blend?h(w,m,A,o,r,n,g,p,0):1==d.blend&&h(w,m,A,o,r,n,g,p,1),i.push(o.buffer.slice(0)),0==d.dispose);else if(1==d.dispose)h(l,m,A,o,r,n,g,p,0);else if(2==d.dispose)for(c=0;c<f;c++)o[c]=s[c]}return i},_paeth:u,_copyTile:h,_bin:i}}();!function(){let{_copyTile:e}=m,{_bin:r}=m,n=m._paeth;var i={table:function(){let e=new Uint32Array(256);for(let r=0;r<256;r++){let n=r;for(let e=0;e<8;e++)1&n?n=0xedb88320^n>>>1:n>>>=1;e[r]=n}return e}(),update(e,r,n,a){for(let f=0;f<a;f++)e=i.table[255&(e^r[n+f])]^e>>>8;return e},crc:(e,r,n)=>0xffffffff^i.update(0xffffffff,e,r,n)};function a(e,r,n,i){r[n]+=e[0]*i>>4,r[n+1]+=e[1]*i>>4,r[n+2]+=e[2]*i>>4,r[n+3]+=e[3]*i>>4}function f(e){return Math.max(0,Math.min(255,e))}function o(e,r){let n=e[0]-r[0],i=e[1]-r[1],a=e[2]-r[2],f=e[3]-r[3];return n*n+i*i+a*a+f*f}function l(e,r,n,i,l,s,c){null==c&&(c=1);let u=i.length,h=[];for(var d,g=0;g<u;g++){let e=i[g];h.push([e>>>0&255,e>>>8&255,e>>>16&255,e>>>24&255])}for(g=0;g<u;g++){let e=0xffffffff;for(var p=0,m=0;m<u;m++){var A=o(h[g],h[m]);m!=g&&A<e&&(e=A,p=m)}}let w=new Uint32Array(l.buffer),b=new Int16Array(r*n*4),v=[0,8,2,10,12,4,14,6,3,11,1,9,15,7,13,5];for(g=0;g<v.length;g++)v[g]=255*((v[g]+.5)/16-.5);for(let l=0;l<n;l++)for(let y=0;y<r;y++){g=4*(l*r+y),2!=c?d=[f(e[g]+b[g]),f(e[g+1]+b[g+1]),f(e[g+2]+b[g+2]),f(e[g+3]+b[g+3])]:(A=v[4*(3&l)+(3&y)],d=[f(e[g]+A),f(e[g+1]+A),f(e[g+2]+A),f(e[g+3]+A)]),p=0;let x=0xffffff;for(m=0;m<u;m++){let e=o(d,h[m]);e<x&&(x=e,p=m)}let U=h[p],F=[d[0]-U[0],d[1]-U[1],d[2]-U[2],d[3]-U[3]];1==c&&(y!=r-1&&a(F,b,g+4,7),l!=n-1&&(0!=y&&a(F,b,g+4*r-4,3),a(F,b,g+4*r,5),y!=r-1&&a(F,b,g+4*r+4,1))),s[g>>2]=p,w[g>>2]=i[p]}}function s(e,n,a,f,o){null==o&&(o={});let{crc:l}=i,s=r.writeUint,c=r.writeUshort,u=r.writeASCII,h=8,d=e.frames.length>1,g,p=!1,m=33+20*!!d;if(null!=o.sRGB&&(m+=13),null!=o.pHYs&&(m+=21),null!=o.iCCP&&(m+=21+(g=pako.deflate(o.iCCP)).length+4),3==e.ctype){for(var A=e.plte.length,w=0;w<A;w++)e.plte[w]>>>24!=255&&(p=!0);m+=8+3*A+4+(p?8+ +A+4:0)}for(var b=0;b<e.frames.length;b++)d&&(m+=38),m+=(U=e.frames[b]).cimg.length+12,0!=b&&(m+=4);let v=new Uint8Array(m+=12),y=[137,80,78,71,13,10,26,10];for(w=0;w<8;w++)v[w]=y[w];if(s(v,h,13),u(v,h+=4,"IHDR"),s(v,h+=4,n),s(v,h+=4,a),v[h+=4]=e.depth,v[++h]=e.ctype,v[++h]=0,v[++h]=0,v[++h]=0,s(v,++h,l(v,h-17,17)),h+=4,null!=o.sRGB&&(s(v,h,1),u(v,h+=4,"sRGB"),v[h+=4]=o.sRGB,s(v,++h,l(v,h-5,5)),h+=4),null!=o.iCCP){let e=13+g.length;s(v,h,e),u(v,h+=4,"iCCP"),u(v,h+=4,"ICC profile"),h+=11,h+=2,v.set(g,h),s(v,h+=g.length,l(v,h-(e+4),e+4)),h+=4}if(null!=o.pHYs&&(s(v,h,9),u(v,h+=4,"pHYs"),s(v,h+=4,o.pHYs[0]),s(v,h+=4,o.pHYs[1]),v[h+=4]=o.pHYs[2],s(v,++h,l(v,h-13,13)),h+=4),d&&(s(v,h,8),u(v,h+=4,"acTL"),s(v,h+=4,e.frames.length),s(v,h+=4,null!=o.loop?o.loop:0),s(v,h+=4,l(v,h-12,12)),h+=4),3==e.ctype){for(s(v,h,3*(A=e.plte.length)),u(v,h+=4,"PLTE"),h+=4,w=0;w<A;w++){let r=3*w,n=e.plte[w],i=255&n,a=n>>>8&255,f=n>>>16&255;v[h+r+0]=i,v[h+r+1]=a,v[h+r+2]=f}if(s(v,h+=3*A,l(v,h-3*A-4,3*A+4)),h+=4,p){for(s(v,h,A),u(v,h+=4,"tRNS"),h+=4,w=0;w<A;w++)v[h+w]=e.plte[w]>>>24&255;s(v,h+=A,l(v,h-A-4,A+4)),h+=4}}let x=0;for(b=0;b<e.frames.length;b++){var U=e.frames[b];d&&(s(v,h,26),u(v,h+=4,"fcTL"),s(v,h+=4,x++),s(v,h+=4,U.rect.width),s(v,h+=4,U.rect.height),s(v,h+=4,U.rect.x),s(v,h+=4,U.rect.y),c(v,h+=4,f[b]),c(v,h+=2,1e3),v[h+=2]=U.dispose,v[++h]=U.blend,s(v,++h,l(v,h-30,30)),h+=4);let r=U.cimg;s(v,h,(A=r.length)+4*(0!=b));let n=h+=4;u(v,h,0==b?"IDAT":"fdAT"),h+=4,0!=b&&(s(v,h,x++),h+=4),v.set(r,h),s(v,h+=A,l(v,n,h-n)),h+=4}return s(v,h,0),u(v,h+=4,"IEND"),s(v,h+=4,l(v,h-4,4)),h+=4,v.buffer}function c(e,r,i){for(let a=0;a<e.frames.length;a++){let f=e.frames[a];f.rect.width;let o=f.rect.height,l=new Uint8Array(o*f.bpl+o);f.cimg=function(e,r,i,a,f,o,l){let s=[],c,u=[0,1,2,3,4];-1!=o?u=[o]:(r*a>5e5||1==i)&&(u=[0]),l&&(c={level:0});for(var h=0;h<u.length;h++){for(let o=0;o<r;o++)!function(e,r,i,a,f,o){let l=i*a,s=l+i;if(e[s]=o,s++,0==o)if(a<500)for(var c=0;c<a;c++)e[s+c]=r[l+c];else e.set(new Uint8Array(r.buffer,l,a),s);else if(1==o){for(c=0;c<f;c++)e[s+c]=r[l+c];for(c=f;c<a;c++)e[s+c]=r[l+c]-r[l+c-f]+256&255}else if(0==i){for(c=0;c<f;c++)e[s+c]=r[l+c];if(2==o)for(c=f;c<a;c++)e[s+c]=r[l+c];if(3==o)for(c=f;c<a;c++)e[s+c]=r[l+c]-(r[l+c-f]>>1)+256&255;if(4==o)for(c=f;c<a;c++)e[s+c]=r[l+c]-n(r[l+c-f],0,0)+256&255}else{if(2==o)for(c=0;c<a;c++)e[s+c]=r[l+c]+256-r[l+c-a]&255;if(3==o){for(c=0;c<f;c++)e[s+c]=r[l+c]+256-(r[l+c-a]>>1)&255;for(c=f;c<a;c++)e[s+c]=r[l+c]+256-(r[l+c-a]+r[l+c-f]>>1)&255}if(4==o){for(c=0;c<f;c++)e[s+c]=r[l+c]+256-n(0,r[l+c-a],0)&255;for(c=f;c<a;c++)e[s+c]=r[l+c]+256-n(r[l+c-f],r[l+c-a],r[l+c-f-a])&255}}}(f,e,o,a,i,u[h]);s.push(p.deflate(f,c))}let d,g=1e9;for(h=0;h<s.length;h++)s[h].length<g&&(d=h,g=s[h].length);return s[d]}(f.img,o,f.bpp,f.bpl,l,r,i)}}function u(r,n,i,a,f){let o=f[0],s=f[1],c=f[2],u=f[3],p=f[4],m=f[5],A=6,w=8,b=255;for(var v=0;v<r.length;v++){let e=new Uint8Array(r[v]);for(var y=e.length,x=0;x<y;x+=4)b&=e[x+3]}let U=255!=b,F=function(r,n,i,a,f,o){let l=[];for(var s,c=0;c<r.length;c++){let s=new Uint8Array(r[c]),h=new Uint32Array(s.buffer),m=0,A=0,w=n,b=i,v=+!!a;if(0!=c){let y=o||a||1==c||0!=l[c-2].dispose?1:2,x=0,U=1e9;for(let e=0;e<y;e++){var u,g=new Uint8Array(r[c-1-e]);let a=new Uint32Array(r[c-1-e]),o=n,l=i,s=-1,d=-1;for(let e=0;e<i;e++)for(let r=0;r<n;r++)h[p=e*n+r]!=a[p]&&(r<o&&(o=r),r>s&&(s=r),e<l&&(l=e),e>d&&(d=e));-1==s&&(o=l=s=d=0),f&&(1==(1&o)&&o--,1==(1&l)&&l--);let v=(s-o+1)*(d-l+1);v<U&&(U=v,x=e,m=o,A=l,w=s-o+1,b=d-l+1)}g=new Uint8Array(r[c-1-x]),1==x&&(l[c-1].dispose=2),e(g,n,i,u=new Uint8Array(w*b*4),w,b,-m,-A,0),1==(v=+!!e(s,n,i,u,w,b,-m,-A,3))?d(s,n,i,u,{x:m,y:A,width:w,height:b}):e(s,n,i,u,w,b,-m,-A,0)}else u=s.slice(0);l.push({rect:{x:m,y:A,width:w,height:b},img:u,blend:v,dispose:0})}if(a)for(c=0;c<l.length;c++){if(1==(s=l[c]).blend)continue;let e=s.rect,a=l[c-1].rect,o=Math.min(e.x,a.x),u=Math.min(e.y,a.y),d={x:o,y:u,width:Math.max(e.x+e.width,a.x+a.width)-o,height:Math.max(e.y+e.height,a.y+a.height)-u};l[c-1].dispose=1,c-1!=0&&h(r,n,i,l,c-1,d,f),h(r,n,i,l,c,d,f)}if(1!=r.length)for(var p=0;p<l.length;p++)(s=l[p]).rect.width,s.rect.height;return l}(r,n,i,o,s,c),E={},B=[],C=[];if(0!=a){let e=[];for(x=0;x<F.length;x++)e.push(F[x].img.buffer);let r=g(function(e){let r=0;for(var n=0;n<e.length;n++)r+=e[n].byteLength;let i=new Uint8Array(r),a=0;for(n=0;n<e.length;n++){let r=new Uint8Array(e[n]),f=r.length;for(let e=0;e<f;e+=4){let n=r[e],f=r[e+1],o=r[e+2],l=r[e+3];0==l&&(n=f=o=0),i[a+e]=n,i[a+e+1]=f,i[a+e+2]=o,i[a+e+3]=l}a+=f}return i.buffer}(e),a);for(x=0;x<r.plte.length;x++)B.push(r.plte[x].est.rgba);let n=0;for(x=0;x<F.length;x++){let e=(M=F[x]).img.length;var _=new Uint8Array(r.inds.buffer,n>>2,e>>2);C.push(_);let i=new Uint8Array(r.abuf,n,e);m&&l(M.img,M.rect.width,M.rect.height,B,i,_),M.img.set(i),n+=e}}else for(v=0;v<F.length;v++){var M=F[v];let e=new Uint32Array(M.img.buffer);var I=M.rect.width;for(_=new Uint8Array(y=e.length),C.push(_),x=0;x<y;x++){let r=e[x];if(0!=x&&r==e[x-1])_[x]=_[x-1];else if(x>I&&r==e[x-I])_[x]=_[x-I];else{let e=E[r];if(null==e&&(E[r]=e=B.length,B.push(r),B.length>=300))break;_[x]=e}}}let R=B.length;for(R<=256&&0==p&&(w=Math.max(w=R<=2?1:R<=4?2:R<=16?4:8,u)),v=0;v<F.length;v++){(M=F[v]).rect.x,M.rect.y,I=M.rect.width;let e=M.rect.height,r=M.img;new Uint32Array(r.buffer);let n=4*I,i=4;if(R<=256&&0==p){var S=new Uint8Array((n=Math.ceil(w*I/8))*e);let a=C[v];for(let r=0;r<e;r++){x=r*n;let e=r*I;if(8==w)for(var T=0;T<I;T++)S[x+T]=a[e+T];else if(4==w)for(T=0;T<I;T++)S[x+(T>>1)]|=a[e+T]<<4-4*(1&T);else if(2==w)for(T=0;T<I;T++)S[x+(T>>2)]|=a[e+T]<<6-2*(3&T);else if(1==w)for(T=0;T<I;T++)S[x+(T>>3)]|=a[e+T]<<7-(7&T)}r=S,A=3,i=1}else if(0==U&&1==F.length){S=new Uint8Array(I*e*3);let a=I*e;for(x=0;x<a;x++){let e=3*x,n=4*x;S[e]=r[n],S[e+1]=r[n+1],S[e+2]=r[n+2]}r=S,A=2,i=3,n=3*I}M.img=r,M.bpl=n,M.bpp=i}return{ctype:A,depth:w,plte:B,frames:F}}function h(r,n,i,a,f,o,l){let s=Uint8Array,c=Uint32Array,u=new s(r[f-1]),h=new c(r[f-1]),g=f+1<r.length?new s(r[f+1]):null,p=new s(r[f]),m=new c(p.buffer),A=n,w=i,b=-1,v=-1;for(let e=0;e<o.height;e++)for(let r=0;r<o.width;r++){let i=o.x+r,l=o.y+e,s=l*n+i,c=m[s];0==c||0==a[f-1].dispose&&h[s]==c&&(null==g||0!=g[4*s+3])||(i<A&&(A=i),i>b&&(b=i),l<w&&(w=l),l>v&&(v=l))}-1==b&&(A=w=b=v=0),l&&(1==(1&A)&&A--,1==(1&w)&&w--),o={x:A,y:w,width:b-A+1,height:v-w+1};let y=a[f];y.rect=o,y.blend=1,y.img=new Uint8Array(o.width*o.height*4),0==a[f-1].dispose?(e(u,n,i,y.img,o.width,o.height,-o.x,-o.y,0),d(p,n,i,y.img,o)):e(p,n,i,y.img,o.width,o.height,-o.x,-o.y,0)}function d(r,n,i,a,f){e(r,n,i,a,f.width,f.height,-f.x,-f.y,2)}function g(e,r){let n,i=new Uint8Array(e),a=i.slice(0),f=new Uint32Array(a.buffer),o=A(a,r),l=o[0],s=o[1],c=i.length,u=new Uint8Array(c>>2);if(i.length<2e7)for(var h=0;h<c;h+=4)n=w(l,d=i[h]*(1/255),g=i[h+1]*(1/255),p=i[h+2]*(1/255),m=i[h+3]*(1/255)),u[h>>2]=n.ind,f[h>>2]=n.est.rgba;else for(h=0;h<c;h+=4){var d=i[h]*(1/255),g=i[h+1]*(1/255),p=i[h+2]*(1/255),m=i[h+3]*(1/255);for(n=l;n.left;)n=0>=b(n.est,d,g,p,m)?n.left:n.right;u[h>>2]=n.ind,f[h>>2]=n.est.rgba}return{abuf:a.buffer,inds:u,plte:s}}function A(e,r,n){null==n&&(n=1e-4);let i=new Uint32Array(e.buffer),a={i0:0,i1:e.length,bst:null,est:null,tdst:0,left:null,right:null};a.bst=y(e,a.i0,a.i1),a.est=x(a.bst);let f=[a];for(;f.length<r;){let r=0,a=0;for(var o=0;o<f.length;o++)f[o].est.L>r&&(r=f[o].est.L,a=o);if(r<n)break;let l=f[a],s=function(e,r,n,i,a,f){for(i-=4;n<i;){for(;v(e,n,a)<=f;)n+=4;for(;v(e,i,a)>f;)i-=4;if(n>=i)break;let o=r[n>>2];r[n>>2]=r[i>>2],r[i>>2]=o,n+=4,i-=4}for(;v(e,n,a)>f;)n-=4;return n+4}(e,i,l.i0,l.i1,l.est.e,l.est.eMq255);if(l.i0>=s||l.i1<=s){l.est.L=0;continue}let c={i0:l.i0,i1:s,bst:null,est:null,tdst:0,left:null,right:null};c.bst=y(e,c.i0,c.i1),c.est=x(c.bst);let u={i0:s,i1:l.i1,bst:null,est:null,tdst:0,left:null,right:null};for(o=0,u.bst={R:[],m:[],N:l.bst.N-c.bst.N};o<16;o++)u.bst.R[o]=l.bst.R[o]-c.bst.R[o];for(o=0;o<4;o++)u.bst.m[o]=l.bst.m[o]-c.bst.m[o];u.est=x(u.bst),l.left=c,l.right=u,f[a]=c,f.push(u)}for(f.sort((e,r)=>r.bst.N-e.bst.N),o=0;o<f.length;o++)f[o].ind=o;return[a,f]}function w(e,r,n,i,a){if(null==e.left){var f;let o,l,s,c;return f=e.est.q,o=r-f[0],l=n-f[1],s=i-f[2],e.tdst=o*o+l*l+s*s+(c=a-f[3])*c,e}let o=b(e.est,r,n,i,a),l=e.left,s=e.right;o>0&&(l=e.right,s=e.left);let c=w(l,r,n,i,a);if(c.tdst<=o*o)return c;let u=w(s,r,n,i,a);return u.tdst<c.tdst?u:c}function b(e,r,n,i,a){let{e:f}=e;return f[0]*r+f[1]*n+f[2]*i+f[3]*a-e.eMq}function v(e,r,n){return e[r]*n[0]+e[r+1]*n[1]+e[r+2]*n[2]+e[r+3]*n[3]}function y(e,r,n){let i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],a=[0,0,0,0];for(let f=r;f<n;f+=4){let r=e[f]*(1/255),n=e[f+1]*(1/255),o=e[f+2]*(1/255),l=e[f+3]*(1/255);a[0]+=r,a[1]+=n,a[2]+=o,a[3]+=l,i[0]+=r*r,i[1]+=r*n,i[2]+=r*o,i[3]+=r*l,i[5]+=n*n,i[6]+=n*o,i[7]+=n*l,i[10]+=o*o,i[11]+=o*l,i[15]+=l*l}return i[4]=i[1],i[8]=i[2],i[9]=i[6],i[12]=i[3],i[13]=i[7],i[14]=i[11],{R:i,m:a,N:n-r>>2}}function x(e){let{R:r}=e,{m:n}=e,{N:i}=e,a=n[0],f=n[1],o=n[2],l=n[3],s=0==i?0:1/i,c=[r[0]-a*a*s,r[1]-a*f*s,r[2]-a*o*s,r[3]-a*l*s,r[4]-f*a*s,r[5]-f*f*s,r[6]-f*o*s,r[7]-f*l*s,r[8]-o*a*s,r[9]-o*f*s,r[10]-o*o*s,r[11]-o*l*s,r[12]-l*a*s,r[13]-l*f*s,r[14]-l*o*s,r[15]-l*l*s],u=[Math.random(),Math.random(),Math.random(),Math.random()],h=0,d=0;if(0!=i)for(let e=0;e<16&&(u=U.multVec(c,u),d=Math.sqrt(U.dot(u,u)),u=U.sml(1/d,u),!(0!=e&&1e-9>Math.abs(d-h)));e++)h=d;let g=[a*s,f*s,o*s,l*s];return{Cov:c,q:g,e:u,L:h,eMq255:U.dot(U.sml(255,g),u),eMq:U.dot(u,g),rgba:(Math.round(255*g[3])<<24|Math.round(255*g[2])<<16|Math.round(255*g[1])<<8|(0|Math.round(255*g[0])))>>>0}}var U={multVec:(e,r)=>[e[0]*r[0]+e[1]*r[1]+e[2]*r[2]+e[3]*r[3],e[4]*r[0]+e[5]*r[1]+e[6]*r[2]+e[7]*r[3],e[8]*r[0]+e[9]*r[1]+e[10]*r[2]+e[11]*r[3],e[12]*r[0]+e[13]*r[1]+e[14]*r[2]+e[15]*r[3]],dot:(e,r)=>e[0]*r[0]+e[1]*r[1]+e[2]*r[2]+e[3]*r[3],sml:(e,r)=>[e*r[0],e*r[1],e*r[2],e*r[3]]};m.encode=function(e,r,n,i,a,f,o){null==i&&(i=0),null==o&&(o=!1);let l=u(e,r,n,i,[!1,!1,!1,0,o,!1]);return c(l,-1),s(l,r,n,a,f)},m.encodeLL=function(e,r,n,i,a,f,o,l){let u={ctype:0+2*(1!=i)+4*(0!=a),depth:f,frames:[]},h=(i+a)*f,d=h*r;for(let i=0;i<e.length;i++)u.frames.push({rect:{x:0,y:0,width:r,height:n},img:new Uint8Array(e[i]),blend:0,dispose:1,bpp:Math.ceil(h/8),bpl:Math.ceil(d/8)});return c(u,0,!0),s(u,r,n,o,l)},m.encode.compress=u,m.encode.dither=l,m.quantize=g,m.quantize.getKDtree=A,m.quantize.getNearest=w}();let A={toArrayBuffer(e,r){let n=e.width,i=e.height,a=n<<2,f=new Uint32Array(e.getContext("2d").getImageData(0,0,n,i).data.buffer),o=(32*n+31)/32<<2,l=o*i,s=122+l,c=new ArrayBuffer(s),u=new DataView(c),h,d,g,p,m=1048576,w=0,b=0,v=0;function y(e){u.setUint16(b,e,!0),b+=2}function x(e){u.setUint32(b,e,!0),b+=4}y(19778),x(s),b+=4,x(122),x(108),x(n),x(-i>>>0),y(1),y(32),x(3),x(l),x(2835),x(2835),b+=8,x(0xff0000),x(65280),x(255),x(0xff000000),x(0x57696e20),function e(){for(;w<i&&m>0;){for(p=122+w*o,h=0;h<a;)m--,g=(d=f[v++])>>>24,u.setUint32(p+h,d<<8|g),h+=4;w++}v<f.length?(m=1048576,setTimeout(e,A._dly)):r(c)}()},toBlob(e,r){this.toArrayBuffer(e,e=>{r(new Blob([e],{type:"image/bmp"}))})},_dly:9};var w={CHROME:"CHROME",FIREFOX:"FIREFOX",DESKTOP_SAFARI:"DESKTOP_SAFARI",IE:"IE",IOS:"IOS",ETC:"ETC"},b={[w.CHROME]:16384,[w.FIREFOX]:11180,[w.DESKTOP_SAFARI]:16384,[w.IE]:8192,[w.IOS]:4096,[w.ETC]:8192};let v="undefined"!=typeof window,y="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope,x=v&&window.cordova&&window.cordova.require&&window.cordova.require("cordova/modulemapper"),U=(v||y)&&(x&&x.getOriginalSymbol(window,"File")||"undefined"!=typeof File&&File),F=(v||y)&&(x&&x.getOriginalSymbol(window,"FileReader")||"undefined"!=typeof FileReader&&FileReader);function E(e,r,n=Date.now()){return new Promise(i=>{let a=e.split(","),f=a[0].match(/:(.*?);/)[1],o=globalThis.atob(a[1]),l=o.length,s=new Uint8Array(l);for(;l--;)s[l]=o.charCodeAt(l);let c=new Blob([s],{type:f});c.name=r,c.lastModified=n,i(c)})}function B(e){return new Promise((r,n)=>{let i=new F;i.onload=()=>r(i.result),i.onerror=e=>n(e),i.readAsDataURL(e)})}function C(e){return new Promise((r,n)=>{let i=new Image;i.onload=()=>r(i),i.onerror=e=>n(e),i.src=e})}function _(){if(void 0!==_.cachedResult)return _.cachedResult;let e=w.ETC,{userAgent:r}=navigator;return/Chrom(e|ium)/i.test(r)?e=w.CHROME:/iP(ad|od|hone)/i.test(r)&&/WebKit/i.test(r)?e=w.IOS:/Safari/i.test(r)?e=w.DESKTOP_SAFARI:/Firefox/i.test(r)?e=w.FIREFOX:(/MSIE/i.test(r)||!0==!!document.documentMode)&&(e=w.IE),_.cachedResult=e,_.cachedResult}function M(e,r){let n=b[_()],i=e,a=r,f=i*a,o=i>a?a/i:i/a;for(;f>n*n;){let e=(n+i)/2,r=(n+a)/2;e<r?(a=r,i=r*o):(a=e*o,i=e),f=i*a}return{width:i,height:a}}function I(e,r){let n,i;try{if(i=(n=new OffscreenCanvas(e,r)).getContext("2d"),null===i)throw Error("getContext of OffscreenCanvas returns null")}catch(e){i=(n=document.createElement("canvas")).getContext("2d")}return n.width=e,n.height=r,[n,i]}function R(e,r){let{width:n,height:i}=M(e.width,e.height),[a,f]=I(n,i);return r&&/jpe?g/.test(r)&&(f.fillStyle="white",f.fillRect(0,0,a.width,a.height)),f.drawImage(e,0,0,a.width,a.height),a}function S(){return void 0!==S.cachedResult||(S.cachedResult=["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"undefined"!=typeof document&&"ontouchend"in document),S.cachedResult}function T(e,r={}){return new Promise(function(n,i){let a,f;var o=function(){try{return f=R(a,r.fileType||e.type),n([a,f])}catch(e){return i(e)}},l=function(r){try{var n=function(e){try{throw e}catch(e){return i(e)}};try{let r;return B(e).then(function(e){try{return r=e,C(r).then(function(e){try{return a=e,function(){try{return o()}catch(e){return i(e)}}()}catch(e){return n(e)}},n)}catch(e){return n(e)}},n)}catch(e){n(e)}}catch(e){return i(e)}};try{if(S()||[w.DESKTOP_SAFARI,w.MOBILE_SAFARI].includes(_()))throw Error("Skip createImageBitmap on IOS and Safari");return createImageBitmap(e).then(function(e){try{return a=e,o()}catch(e){return l()}},l)}catch(e){l()}})}function k(e,r,n,i,a=1){return new Promise(function(f,o){let l;if("image/png"===r){let f,o;return f=e.getContext("2d"),{data:o}=f.getImageData(0,0,e.width,e.height),(l=new Blob([m.encode([o.buffer],e.width,e.height,4096*a)],{type:r})).name=n,l.lastModified=i,u.call(this)}if("image/bmp"===r)return new Promise(r=>A.toBlob(e,r)).then((function(e){try{return(l=e).name=n,l.lastModified=i,c.call(this)}catch(e){return o(e)}}).bind(this),o);if("function"==typeof OffscreenCanvas&&e instanceof OffscreenCanvas)return e.convertToBlob({type:r,quality:a}).then((function(e){try{return(l=e).name=n,l.lastModified=i,s.call(this)}catch(e){return o(e)}}).bind(this),o);return E(e.toDataURL(r,a),n,i).then((function(e){try{return l=e,s.call(this)}catch(e){return o(e)}}).bind(this),o);function s(){return c.call(this)}function c(){return u.call(this)}function u(){return f(l)}})}function Q(e){e.width=0,e.height=0}function L(){return new Promise(function(e,r){let n,i,a,f;return void 0!==L.cachedResult?e(L.cachedResult):E("data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAAAAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAEAAgMBEQACEQEDEQH/xABKAAEAAAAAAAAAAAAAAAAAAAALEAEAAAAAAAAAAAAAAAAAAAAAAQEAAAAAAAAAAAAAAAAAAAAAEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwA/8H//2Q==","test.jpg",Date.now()).then(function(o){try{return n=o,T(n).then(function(o){try{return i=o[1],k(i,n.type,n.name,n.lastModified).then(function(n){try{return a=n,Q(i),T(a).then(function(n){try{return f=n[0],L.cachedResult=1===f.width&&2===f.height,e(L.cachedResult)}catch(e){return r(e)}},r)}catch(e){return r(e)}},r)}catch(e){return r(e)}},r)}catch(e){return r(e)}},r)})}function j(e){return new Promise((r,n)=>{let i=new F;i.onload=e=>{let n=new DataView(e.target.result);if(65496!=n.getUint16(0,!1))return r(-2);let i=n.byteLength,a=2;for(;a<i&&!(8>=n.getUint16(a+2,!1));){let e=n.getUint16(a,!1);if(a+=2,65505==e){if(0x45786966!=n.getUint32(a+=2,!1))return r(-1);let e=18761==n.getUint16(a+=6,!1);a+=n.getUint32(a+4,e);let i=n.getUint16(a,e);a+=2;for(let f=0;f<i;f++)if(274==n.getUint16(a+12*f,e))return r(n.getUint16(a+12*f+8,e))}else{if(65280!=(65280&e))break;a+=n.getUint16(a,!1)}}return r(-1)},i.onerror=e=>n(e),i.readAsArrayBuffer(e)})}function O(e,r){let{width:n}=e,{height:i}=e,{maxWidthOrHeight:a}=r,f,o=e;return isFinite(a)&&(n>a||i>a)&&([o,f]=I(n,i),n>i?(o.width=a,o.height=i/n*a):(o.width=n/i*a,o.height=a),f.drawImage(e,0,0,o.width,o.height),Q(e)),o}function N(e,r){let{width:n}=e,{height:i}=e,[a,f]=I(n,i);switch(r>4&&r<9?(a.width=i,a.height=n):(a.width=n,a.height=i),r){case 2:f.transform(-1,0,0,1,n,0);break;case 3:f.transform(-1,0,0,-1,n,i);break;case 4:f.transform(1,0,0,-1,0,i);break;case 5:f.transform(0,1,1,0,0,0);break;case 6:f.transform(0,1,-1,0,i,0);break;case 7:f.transform(0,-1,-1,0,i,n);break;case 8:f.transform(0,-1,1,0,0,n)}return f.drawImage(e,0,0,n,i),Q(e),a}function P(e,r,n=0){return new Promise(function(i,a){let f,o,l,s,c,u,h,d,g,p,m,A,w,b,v,y,x,U,F,E;function B(e=5){if(r.signal&&r.signal.aborted)throw r.signal.reason;f+=e,r.onProgress(Math.min(f,100))}function C(e){if(r.signal&&r.signal.aborted)throw r.signal.reason;f=Math.min(Math.max(e,f),100),r.onProgress(f)}return f=n,o=r.maxIteration||10,l=1024*r.maxSizeMB*1024,B(),T(e,r).then((function(n){try{return[,s]=n,B(),c=O(s,r),B(),new Promise(function(n,i){var a;if(!(a=r.exifOrientation))return j(e).then((function(e){try{return a=e,f.call(this)}catch(e){return i(e)}}).bind(this),i);function f(){return n(a)}return f.call(this)}).then((function(n){try{return u=n,B(),L().then((function(n){try{return h=n?c:N(c,u),B(),d=r.initialQuality||1,g=r.fileType||e.type,k(h,g,e.name,e.lastModified,d).then((function(n){try{var f;if(p=n,B(),m=p.size>l,A=p.size>e.size,!m&&!A)return C(100),i(p);function u(){if(o--&&(v>l||v>w)){let r,n;return r=E?.95*F.width:F.width,n=E?.95*F.height:F.height,[x,U]=I(r,n),U.drawImage(F,0,0,r,n),d*="image/png"===g?.85:.95,k(x,g,e.name,e.lastModified,d).then(function(e){try{return y=e,Q(F),F=x,v=y.size,C(Math.min(99,Math.floor((b-v)/(b-l)*100))),u}catch(e){return a(e)}},a)}return[1]}return w=e.size,v=b=p.size,F=h,E=!r.alwaysKeepResolution&&m,(f=(function(e){for(;e;){if(e.then)return void e.then(f,a);try{if(e.pop){if(e.length)return e.pop()?_.call(this):e;e=u}else e=e.call(this)}catch(e){return a(e)}}}).bind(this))(u);function _(){return Q(F),Q(x),Q(c),Q(h),Q(s),C(100),i(y)}}catch(e){return a(e)}}).bind(this),a)}catch(e){return a(e)}}).bind(this),a)}catch(e){return a(e)}}).bind(this),a)}catch(e){return a(e)}}).bind(this),a)})}function z(e,n){return new Promise(function(i,a){let f,o,l,s,c,u;if(f={...n},l=0,{onProgress:s}=f,f.maxSizeMB=f.maxSizeMB||1/0,c="boolean"!=typeof f.useWebWorker||f.useWebWorker,delete f.useWebWorker,f.onProgress=e=>{l=e,"function"==typeof s&&s(l)},!(e instanceof Blob||e instanceof U))return a(Error("The file given is not an instance of Blob or File"));if(!/^image/.test(e.type))return a(Error("The file given is not an image"));if(u="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope,!c||"function"!=typeof Worker||u)return P(e,f).then((function(e){try{return o=e,p.call(this)}catch(e){return a(e)}}).bind(this),a);var d=(function(){try{return p.call(this)}catch(e){return a(e)}}).bind(this),g=function(r){try{return P(e,f).then(function(e){try{return o=e,d()}catch(e){return a(e)}},a)}catch(e){return a(e)}};try{return f.libURL=f.libURL||"https://cdn.jsdelivr.net/npm/browser-image-compression@2.0.2/dist/browser-image-compression.js",new Promise((n,i)=>{var a;let o;r||(o=[],"function"==typeof(a="\nlet scriptImported = false\nself.addEventListener('message', async (e) => {\n  const { file, id, imageCompressionLibUrl, options } = e.data\n  options.onProgress = (progress) => self.postMessage({ progress, id })\n  try {\n    if (!scriptImported) {\n      // console.log('[worker] importScripts', imageCompressionLibUrl)\n      self.importScripts(imageCompressionLibUrl)\n      scriptImported = true\n    }\n    // console.log('[worker] self', self)\n    const compressedFile = await imageCompression(file, options)\n    self.postMessage({ file: compressedFile, id })\n  } catch (e) {\n    // console.error('[worker] error', e)\n    self.postMessage({ error: e.message + '\\n' + e.stack, id })\n  }\n})\n")?o.push(`(${a})()`):o.push(a),r=URL.createObjectURL(new Blob(o)));let l=new Worker(r);l.addEventListener("message",function(e){if(f.signal&&f.signal.aborted)l.terminate();else if(void 0===e.data.progress){if(e.data.error)return i(Error(e.data.error)),void l.terminate();n(e.data.file),l.terminate()}else f.onProgress(e.data.progress)}),l.addEventListener("error",i),f.signal&&f.signal.addEventListener("abort",()=>{i(f.signal.reason),l.terminate()}),l.postMessage({file:e,imageCompressionLibUrl:f.libURL,options:{...f,onProgress:void 0,signal:void 0}})}).then(function(e){try{return o=e,d()}catch(e){return g()}},g)}catch(e){g()}function p(){try{o.name=e.name,o.lastModified=e.lastModified}catch(e){}try{f.preserveExif&&"image/jpeg"===e.type&&(!f.fileType||f.fileType&&f.fileType===e.type)&&(o=h(e,o))}catch(e){}return i(o)}})}z.getDataUrlFromFile=B,z.getFilefromDataUrl=E,z.loadImage=C,z.drawImageInCanvas=R,z.drawFileInCanvas=T,z.canvasToFile=k,z.getExifOrientation=j,z.handleMaxWidthOrHeight=O,z.followExifOrientation=N,z.cleanupCanvasMemory=Q,z.isAutoOrientationInBrowser=L,z.approximateBelowMaximumCanvasSizeOfBrowser=M,z.copyExifWithoutOrientation=h,z.getBrowserName=_,z.version="2.0.2";var D=e.i(97483);function H(){let e=(0,s.useTranslations)("Tools.image-compressor.ui"),[r,n]=(0,l.useState)(null),[i,a]=(0,l.useState)(null),[f,h]=(0,l.useState)(!1),[d,g]=(0,l.useState)(80),p=async()=>{if(!r)return;h(!0);let n=D.toast.loading(e("processing"));try{let i=await z(r,{maxSizeMB:1,maxWidthOrHeight:1920,useWebWorker:!0,initialQuality:d/100});a(i),D.toast.success(e("success"),{id:n})}catch(r){console.error(r),D.toast.error(e("error"),{id:n})}finally{h(!1)}},m=e=>{if(0===e)return"0 Bytes";let r=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,r)).toFixed(2))+" "+["Bytes","KB","MB","GB"][r]};return(0,o.jsxs)("div",{className:"max-w-3xl mx-auto space-y-6",children:[(0,o.jsx)(D.Toaster,{position:"bottom-right"}),(0,o.jsxs)(u.Card,{className:"p-8",children:[(0,o.jsxs)("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-12 text-center hover:border-blue-500 transition-colors",children:[(0,o.jsx)("input",{type:"file",accept:"image/*",onChange:e=>{e.target.files&&e.target.files[0]&&(n(e.target.files[0]),a(null))},className:"hidden",id:"image-upload"}),(0,o.jsxs)("label",{htmlFor:"image-upload",className:"cursor-pointer flex flex-col items-center gap-4",children:[(0,o.jsx)("div",{className:"bg-blue-50 p-4 rounded-full",children:(0,o.jsx)("svg",{className:"w-12 h-12 text-blue-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,o.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})})}),(0,o.jsxs)("div",{className:"space-y-2",children:[(0,o.jsx)("span",{className:"text-xl font-semibold text-gray-700 block",children:e("selectImage")}),(0,o.jsx)("span",{className:"text-sm text-gray-500 block",children:e("dragDrop")})]})]})]}),r&&(0,o.jsxs)("div",{className:"mt-8 space-y-6",children:[(0,o.jsxs)("div",{className:"bg-gray-50 p-6 rounded-lg space-y-4",children:[(0,o.jsxs)("div",{className:"flex items-center justify-between",children:[(0,o.jsx)("span",{className:"font-medium text-gray-700",children:r.name}),(0,o.jsx)("span",{className:"text-sm text-gray-500",children:e("originalSize",{size:m(r.size)})})]}),(0,o.jsxs)("div",{className:"space-y-2",children:[(0,o.jsx)("div",{className:"flex justify-between text-sm text-gray-600",children:(0,o.jsx)("span",{children:e("quality",{value:d})})}),(0,o.jsx)("input",{type:"range",min:"10",max:"100",value:d,onChange:e=>g(Number(e.target.value)),className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-blue-600"})]})]}),(0,o.jsxs)("div",{className:"flex gap-4",children:[(0,o.jsx)(c.Button,{onClick:p,disabled:f,className:"flex-1 bg-blue-600 hover:bg-blue-700 text-white py-3",children:f?e("processing"):e("compress")}),i&&(0,o.jsx)(c.Button,{onClick:()=>{if(!i)return;let e=URL.createObjectURL(i),n=document.createElement("a");n.href=e,n.download=`compressed-${r?.name}`,n.click(),URL.revokeObjectURL(e)},className:"flex-1 bg-green-600 hover:bg-green-700 text-white py-3",children:e("download")})]}),i&&(0,o.jsx)("div",{className:"bg-green-50 border border-green-200 p-4 rounded-lg",children:(0,o.jsxs)("div",{className:"flex justify-between items-center",children:[(0,o.jsx)("span",{className:"text-green-700 font-medium",children:e("compressedSize",{size:m(i.size)})}),(0,o.jsx)("span",{className:"text-green-600 text-sm font-bold bg-green-100 px-2 py-1 rounded",children:e("reduction",{percent:Math.round((1-i.size/r.size)*100)})})]})})]})]}),(0,o.jsx)("div",{className:"text-center text-sm text-gray-500",children:e("processingNote")})]})}e.s(["default",()=>H],73134)}]);