{"version":3,"sources":["../../../../../../../Documents/MyGeminiProject/asset-tools-suite/app/components/ui/Card.tsx","../../../../../../../Documents/MyGeminiProject/asset-tools-suite/app/components/ui/Button.tsx","../../../../../../../Documents/MyGeminiProject/asset-tools-suite/app/%5Blocale%5D/tools/bpm-tapper/BpmTapperClient.tsx"],"sourcesContent":["import React from 'react';\r\n\r\ninterface CardProps {\r\n    children: React.ReactNode;\r\n    padding?: 'none' | 'sm' | 'md' | 'lg';\r\n    hover?: boolean;\r\n    className?: string;\r\n    onClick?: () => void;\r\n}\r\n\r\nexport const Card: React.FC<CardProps & React.HTMLAttributes<HTMLDivElement>> = ({\r\n    children,\r\n    padding = 'md',\r\n    hover = false,\r\n    className = '',\r\n    onClick,\r\n    ...props\r\n}) => {\r\n    const paddings = {\r\n        none: '',\r\n        sm: 'p-4',\r\n        md: 'p-6',\r\n        lg: 'p-8',\r\n    };\r\n\r\n    const hoverStyles = hover\r\n        ? 'hover:shadow-xl hover:border-transparent transition-all duration-300 cursor-pointer'\r\n        : '';\r\n\r\n    return (\r\n        <div\r\n            className={`\r\n        bg-white rounded-2xl shadow-sm border border-gray-200 overflow-hidden\r\n        ${paddings[padding]}\r\n        ${hoverStyles}\r\n        ${className}\r\n      `}\r\n            onClick={onClick}\r\n            {...props}\r\n        >\r\n            {children}\r\n        </div>\r\n    );\r\n};\r\n","import React from 'react';\r\nimport { Link } from '@/i18n/routing';\r\n\r\ninterface ButtonProps extends React.ButtonHTMLAttributes<HTMLButtonElement> {\r\n    variant?: 'primary' | 'secondary' | 'outline' | 'ghost' | 'danger';\r\n    size?: 'sm' | 'md' | 'lg';\r\n    isLoading?: boolean;\r\n    leftIcon?: React.ReactNode;\r\n    rightIcon?: React.ReactNode;\r\n    href?: string;\r\n    locale?: string;\r\n}\r\n\r\nexport const Button: React.FC<ButtonProps> = ({\r\n    children,\r\n    variant = 'primary',\r\n    size = 'md',\r\n    isLoading = false,\r\n    leftIcon,\r\n    rightIcon,\r\n    className = '',\r\n    disabled,\r\n    href,\r\n    locale,\r\n    ...props\r\n}) => {\r\n    const baseStyles = 'inline-flex items-center justify-center font-medium transition-all duration-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed';\r\n\r\n    const variants = {\r\n        primary: 'bg-blue-600 text-white hover:bg-blue-700 focus:ring-blue-500 shadow-sm hover:shadow-md',\r\n        secondary: 'bg-white text-gray-700 border border-gray-300 hover:bg-gray-50 focus:ring-blue-500 shadow-sm',\r\n        outline: 'bg-transparent text-blue-600 border border-blue-600 hover:bg-blue-50 focus:ring-blue-500',\r\n        ghost: 'bg-transparent text-gray-600 hover:bg-gray-100 hover:text-gray-900 focus:ring-gray-500',\r\n        danger: 'bg-red-600 text-white hover:bg-red-700 focus:ring-red-500 shadow-sm hover:shadow-md',\r\n    };\r\n\r\n    const sizes = {\r\n        sm: 'px-3 py-1.5 text-xs min-h-8',\r\n        md: 'px-4 py-2 text-sm min-h-10',\r\n        lg: 'px-6 py-3 text-base min-h-12',\r\n    };\r\n\r\n    const classes = `\r\n    ${baseStyles}\r\n    ${variants[variant]}\r\n    ${sizes[size]}\r\n    ${className}\r\n  `;\r\n\r\n    const content = (\r\n        <>\r\n            {isLoading && (\r\n                <svg className=\"animate-spin -ml-1 mr-2 h-4 w-4 text-current\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\">\r\n                    <circle className=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" strokeWidth=\"4\"></circle>\r\n                    <path className=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"></path>\r\n                </svg>\r\n            )}\r\n            {!isLoading && leftIcon && <span className=\"mr-2\">{leftIcon}</span>}\r\n            {children}\r\n            {!isLoading && rightIcon && <span className=\"ml-2\">{rightIcon}</span>}\r\n        </>\r\n    );\r\n\r\n    if (href) {\r\n        return (\r\n            <Link href={href} locale={locale} className={classes}>\r\n                {content}\r\n            </Link>\r\n        );\r\n    }\r\n\r\n    return (\r\n        <button\r\n            className={classes}\r\n            disabled={disabled || isLoading}\r\n            {...props}\r\n        >\r\n            {content}\r\n        </button>\r\n    );\r\n};\r\n","'use client';\r\n\r\nimport { useState, useEffect, useCallback } from 'react';\r\nimport { useTranslations } from 'next-intl';\r\nimport { Button } from '@/app/components/ui/Button';\r\nimport { Card } from '@/app/components/ui/Card';\r\n\r\nexport default function BpmTapperClient() {\r\n    const t = useTranslations('Tools.bpm-tapper.ui');\r\n    const [taps, setTaps] = useState<number[]>([]);\r\n    const [bpm, setBpm] = useState<number | null>(null);\r\n    const [isActive, setIsActive] = useState(false);\r\n\r\n    const handleTap = useCallback(() => {\r\n        const now = Date.now();\r\n\r\n        setTaps(prevTaps => {\r\n            // Reset if it's been more than 2 seconds since last tap\r\n            if (prevTaps.length > 0 && now - prevTaps[prevTaps.length - 1] > 2000) {\r\n                return [now];\r\n            }\r\n\r\n            // Keep only last 10 taps for rolling average\r\n            const newTaps = [...prevTaps, now];\r\n            if (newTaps.length > 10) {\r\n                return newTaps.slice(newTaps.length - 10);\r\n            }\r\n            return newTaps;\r\n        });\r\n\r\n        setIsActive(true);\r\n\r\n        // Add visual feedback class\r\n        const button = document.getElementById('tap-button');\r\n        if (button) {\r\n            button.classList.add('scale-95');\r\n            setTimeout(() => button.classList.remove('scale-95'), 50);\r\n        }\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        if (taps.length > 1) {\r\n            // Calculate intervals between taps\r\n            const intervals = [];\r\n            for (let i = 1; i < taps.length; i++) {\r\n                intervals.push(taps[i] - taps[i - 1]);\r\n            }\r\n\r\n            // Calculate average interval\r\n            const avgInterval = intervals.reduce((a, b) => a + b, 0) / intervals.length;\r\n\r\n            // Calculate BPM\r\n            const calculatedBpm = 60000 / avgInterval;\r\n            setBpm(calculatedBpm);\r\n        } else {\r\n            setBpm(null);\r\n        }\r\n    }, [taps]);\r\n\r\n    const handleReset = () => {\r\n        setTaps([]);\r\n        setBpm(null);\r\n        setIsActive(false);\r\n    };\r\n\r\n    // Handle spacebar\r\n    useEffect(() => {\r\n        const handleKeyDown = (e: KeyboardEvent) => {\r\n            if (e.code === 'Space' && !e.repeat) {\r\n                e.preventDefault(); // Prevent scrolling\r\n                handleTap();\r\n            }\r\n        };\r\n\r\n        window.addEventListener('keydown', handleKeyDown);\r\n        return () => window.removeEventListener('keydown', handleKeyDown);\r\n    }, [handleTap]);\r\n\r\n    return (\r\n        <div className=\"max-w-3xl mx-auto space-y-6\">\r\n            <Card className=\"p-8 text-center\">\r\n                <div className=\"mb-8\">\r\n                    <div className=\"text-6xl font-bold text-blue-600 mb-2 font-mono\">\r\n                        {bpm ? bpm.toFixed(2) : '--'}\r\n                    </div>\r\n                    <div className=\"text-gray-500 uppercase tracking-wider text-sm\">\r\n                        {t('bpm')}\r\n                    </div>\r\n                    {bpm && (\r\n                        <div className=\"mt-2 text-gray-400 text-sm\">\r\n                            {t('nearestWhole')}: <span className=\"font-bold text-gray-600\">{Math.round(bpm)}</span>\r\n                        </div>\r\n                    )}\r\n                </div>\r\n\r\n                <button\r\n                    id=\"tap-button\"\r\n                    onClick={handleTap}\r\n                    className={`\r\n            w-64 h-64 rounded-full border-8 transition-all duration-100 focus:outline-none\r\n            flex flex-col items-center justify-center mx-auto mb-8\r\n            ${isActive\r\n                            ? 'border-blue-500 bg-blue-50 text-blue-600 shadow-lg scale-100'\r\n                            : 'border-gray-200 bg-gray-50 text-gray-400 hover:border-blue-300 hover:text-blue-400'\r\n                        }\r\n          `}\r\n                >\r\n                    <span className=\"text-2xl font-bold\">{t('tapHere')}</span>\r\n                    <span className=\"text-sm mt-2 opacity-70 px-4\">{t('tapInstruction')}</span>\r\n                </button>\r\n\r\n                <div className=\"flex justify-center items-center gap-8\">\r\n                    <div className=\"text-gray-500\">\r\n                        {t('count')}: <span className=\"font-bold text-gray-900\">{taps.length}</span>\r\n                    </div>\r\n\r\n                    <Button\r\n                        onClick={handleReset}\r\n                        variant=\"outline\"\r\n                        size=\"sm\"\r\n                    >\r\n                        {t('reset')}\r\n                    </Button>\r\n                </div>\r\n            </Card>\r\n\r\n            <div className=\"text-center text-sm text-gray-500\">\r\n                {t('processingNote')}\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n"],"names":[],"mappings":"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"}