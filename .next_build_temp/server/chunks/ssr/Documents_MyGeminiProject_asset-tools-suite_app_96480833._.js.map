{"version":3,"sources":["../../../../../../../Documents/MyGeminiProject/asset-tools-suite/app/components/ui/Card.tsx","../../../../../../../Documents/MyGeminiProject/asset-tools-suite/app/components/ui/Button.tsx","../../../../../../../Documents/MyGeminiProject/asset-tools-suite/app/%5Blocale%5D/tools/json-diff/JsonDiffClient.tsx"],"sourcesContent":["import React from 'react';\r\n\r\ninterface CardProps {\r\n    children: React.ReactNode;\r\n    padding?: 'none' | 'sm' | 'md' | 'lg';\r\n    hover?: boolean;\r\n    className?: string;\r\n    onClick?: () => void;\r\n}\r\n\r\nexport const Card: React.FC<CardProps & React.HTMLAttributes<HTMLDivElement>> = ({\r\n    children,\r\n    padding = 'md',\r\n    hover = false,\r\n    className = '',\r\n    onClick,\r\n    ...props\r\n}) => {\r\n    const paddings = {\r\n        none: '',\r\n        sm: 'p-4',\r\n        md: 'p-6',\r\n        lg: 'p-8',\r\n    };\r\n\r\n    const hoverStyles = hover\r\n        ? 'hover:shadow-xl hover:border-transparent transition-all duration-300 cursor-pointer'\r\n        : '';\r\n\r\n    return (\r\n        <div\r\n            className={`\r\n        bg-white rounded-2xl shadow-sm border border-gray-200 overflow-hidden\r\n        ${paddings[padding]}\r\n        ${hoverStyles}\r\n        ${className}\r\n      `}\r\n            onClick={onClick}\r\n            {...props}\r\n        >\r\n            {children}\r\n        </div>\r\n    );\r\n};\r\n","import React from 'react';\r\nimport { Link } from '@/i18n/routing';\r\n\r\ninterface ButtonProps extends React.ButtonHTMLAttributes<HTMLButtonElement> {\r\n    variant?: 'primary' | 'secondary' | 'outline' | 'ghost' | 'danger';\r\n    size?: 'sm' | 'md' | 'lg';\r\n    isLoading?: boolean;\r\n    leftIcon?: React.ReactNode;\r\n    rightIcon?: React.ReactNode;\r\n    href?: string;\r\n    locale?: string;\r\n}\r\n\r\nexport const Button: React.FC<ButtonProps> = ({\r\n    children,\r\n    variant = 'primary',\r\n    size = 'md',\r\n    isLoading = false,\r\n    leftIcon,\r\n    rightIcon,\r\n    className = '',\r\n    disabled,\r\n    href,\r\n    locale,\r\n    ...props\r\n}) => {\r\n    const baseStyles = 'inline-flex items-center justify-center font-medium transition-all duration-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed';\r\n\r\n    const variants = {\r\n        primary: 'bg-blue-600 text-white hover:bg-blue-700 focus:ring-blue-500 shadow-sm hover:shadow-md',\r\n        secondary: 'bg-white text-gray-700 border border-gray-300 hover:bg-gray-50 focus:ring-blue-500 shadow-sm',\r\n        outline: 'bg-transparent text-blue-600 border border-blue-600 hover:bg-blue-50 focus:ring-blue-500',\r\n        ghost: 'bg-transparent text-gray-600 hover:bg-gray-100 hover:text-gray-900 focus:ring-gray-500',\r\n        danger: 'bg-red-600 text-white hover:bg-red-700 focus:ring-red-500 shadow-sm hover:shadow-md',\r\n    };\r\n\r\n    const sizes = {\r\n        sm: 'px-3 py-1.5 text-xs min-h-8',\r\n        md: 'px-4 py-2 text-sm min-h-10',\r\n        lg: 'px-6 py-3 text-base min-h-12',\r\n    };\r\n\r\n    const classes = `\r\n    ${baseStyles}\r\n    ${variants[variant]}\r\n    ${sizes[size]}\r\n    ${className}\r\n  `;\r\n\r\n    const content = (\r\n        <>\r\n            {isLoading && (\r\n                <svg className=\"animate-spin -ml-1 mr-2 h-4 w-4 text-current\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\">\r\n                    <circle className=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" strokeWidth=\"4\"></circle>\r\n                    <path className=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"></path>\r\n                </svg>\r\n            )}\r\n            {!isLoading && leftIcon && <span className=\"mr-2\">{leftIcon}</span>}\r\n            {children}\r\n            {!isLoading && rightIcon && <span className=\"ml-2\">{rightIcon}</span>}\r\n        </>\r\n    );\r\n\r\n    if (href) {\r\n        return (\r\n            <Link href={href} locale={locale} className={classes}>\r\n                {content}\r\n            </Link>\r\n        );\r\n    }\r\n\r\n    return (\r\n        <button\r\n            className={classes}\r\n            disabled={disabled || isLoading}\r\n            {...props}\r\n        >\r\n            {content}\r\n        </button>\r\n    );\r\n};\r\n","'use client';\r\n\r\nimport { useState } from 'react';\r\nimport { useTranslations } from 'next-intl';\r\nimport { Button } from '@/app/components/ui/Button';\r\nimport { Card } from '@/app/components/ui/Card';\r\n\r\ntype DiffType = 'added' | 'removed' | 'modified' | 'unchanged';\r\n\r\ninterface DiffResult {\r\n    key: string;\r\n    value: any;\r\n    type: DiffType;\r\n    oldValue?: any;\r\n    children?: DiffResult[];\r\n}\r\n\r\nexport default function JsonDiffClient() {\r\n    const t = useTranslations('Tools.json-diff.ui');\r\n    const [leftJson, setLeftJson] = useState('');\r\n    const [rightJson, setRightJson] = useState('');\r\n    const [diff, setDiff] = useState<DiffResult[] | null>(null);\r\n    const [error, setError] = useState('');\r\n\r\n    const compare = () => {\r\n        setError('');\r\n        setDiff(null);\r\n\r\n        let obj1, obj2;\r\n\r\n        try {\r\n            obj1 = JSON.parse(leftJson);\r\n        } catch (e) {\r\n            setError(t('invalidJson', { side: t('leftLabel') }));\r\n            return;\r\n        }\r\n\r\n        try {\r\n            obj2 = JSON.parse(rightJson);\r\n        } catch (e) {\r\n            setError(t('invalidJson', { side: t('rightLabel') }));\r\n            return;\r\n        }\r\n\r\n        const result = getDiff(obj1, obj2);\r\n        if (result.length === 0) {\r\n            // Check if objects are identical (empty diff means no changes)\r\n            // But getDiff returns empty array if identical? Yes.\r\n            // We want to show \"No Diff\" message.\r\n        }\r\n        setDiff(result);\r\n    };\r\n\r\n    const getDiff = (o1: any, o2: any, parentKey = ''): DiffResult[] => {\r\n        const diffs: DiffResult[] = [];\r\n        const keys1 = Object.keys(o1 || {});\r\n        const keys2 = Object.keys(o2 || {});\r\n        const allKeys = Array.from(new Set([...keys1, ...keys2]));\r\n\r\n        for (const key of allKeys) {\r\n            const val1 = o1 ? o1[key] : undefined;\r\n            const val2 = o2 ? o2[key] : undefined;\r\n\r\n            if (val1 === undefined && val2 !== undefined) {\r\n                diffs.push({ key, value: val2, type: 'added' });\r\n            } else if (val1 !== undefined && val2 === undefined) {\r\n                diffs.push({ key, value: val1, type: 'removed' });\r\n            } else if (JSON.stringify(val1) !== JSON.stringify(val2)) {\r\n                if (typeof val1 === 'object' && val1 !== null && typeof val2 === 'object' && val2 !== null) {\r\n                    diffs.push({ key, value: null, type: 'modified', children: getDiff(val1, val2, key) });\r\n                } else {\r\n                    diffs.push({ key, value: val2, oldValue: val1, type: 'modified' });\r\n                }\r\n            } else {\r\n                // Identical, we can skip or add as unchanged if we want to show full tree\r\n                // For now, let's only show changes\r\n            }\r\n        }\r\n        return diffs;\r\n    };\r\n\r\n    const renderDiff = (diffs: DiffResult[], depth = 0) => {\r\n        return (\r\n            <div className={`pl-${depth * 4}`}>\r\n                {diffs.map((d, i) => (\r\n                    <div key={i} className=\"font-mono text-sm mb-1\">\r\n                        {d.type === 'added' && (\r\n                            <div className=\"bg-green-100 text-green-800 p-1 rounded\">\r\n                                + {d.key}: {JSON.stringify(d.value)}\r\n                            </div>\r\n                        )}\r\n                        {d.type === 'removed' && (\r\n                            <div className=\"bg-red-100 text-red-800 p-1 rounded\">\r\n                                - {d.key}: {JSON.stringify(d.value)}\r\n                            </div>\r\n                        )}\r\n                        {d.type === 'modified' && (\r\n                            <div className=\"bg-yellow-50 text-yellow-800 p-1 rounded\">\r\n                                {d.children ? (\r\n                                    <>\r\n                                        <div className=\"font-semibold text-gray-700\">{d.key}:</div>\r\n                                        <div className=\"pl-4 border-l-2 border-yellow-200\">\r\n                                            {renderDiff(d.children, depth + 1)}\r\n                                        </div>\r\n                                    </>\r\n                                ) : (\r\n                                    <>\r\n                                        ~ {d.key}: <span className=\"bg-red-100 px-1 rounded\">{JSON.stringify(d.oldValue)}</span>\r\n                                        {' -> '}\r\n                                        <span className=\"bg-green-100 px-1 rounded\">{JSON.stringify(d.value)}</span>\r\n                                    </>\r\n                                )}\r\n                            </div>\r\n                        )}\r\n                    </div>\r\n                ))}\r\n            </div>\r\n        );\r\n    };\r\n\r\n    return (\r\n        <div className=\"max-w-6xl mx-auto space-y-6\">\r\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n                <Card className=\"p-4\">\r\n                    <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                        {t('leftLabel')}\r\n                    </label>\r\n                    <textarea\r\n                        value={leftJson}\r\n                        onChange={(e) => setLeftJson(e.target.value)}\r\n                        className=\"w-full h-64 p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent font-mono text-xs\"\r\n                        placeholder='{\"key\": \"value\"}'\r\n                    />\r\n                </Card>\r\n                <Card className=\"p-4\">\r\n                    <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                        {t('rightLabel')}\r\n                    </label>\r\n                    <textarea\r\n                        value={rightJson}\r\n                        onChange={(e) => setRightJson(e.target.value)}\r\n                        className=\"w-full h-64 p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent font-mono text-xs\"\r\n                        placeholder='{\"key\": \"newValue\"}'\r\n                    />\r\n                </Card>\r\n            </div>\r\n\r\n            <div className=\"text-center\">\r\n                <Button\r\n                    onClick={compare}\r\n                    className=\"bg-blue-600 hover:bg-blue-700 text-white px-8\"\r\n                    disabled={!leftJson || !rightJson}\r\n                >\r\n                    {t('compare')}\r\n                </Button>\r\n            </div>\r\n\r\n            {error && (\r\n                <div className=\"text-red-500 text-center font-medium\">\r\n                    {error}\r\n                </div>\r\n            )}\r\n\r\n            {diff && (\r\n                <Card className=\"p-6 animate-fade-in\">\r\n                    <h3 className=\"text-lg font-semibold text-gray-900 border-b pb-2 mb-4\">\r\n                        {t('result')}\r\n                    </h3>\r\n                    {diff.length === 0 ? (\r\n                        <div className=\"text-green-600 text-center py-4\">\r\n                            {t('noDiff')}\r\n                        </div>\r\n                    ) : (\r\n                        <div className=\"bg-gray-50 p-4 rounded-lg overflow-x-auto\">\r\n                            {renderDiff(diff)}\r\n                        </div>\r\n                    )}\r\n                </Card>\r\n            )}\r\n\r\n            <div className=\"text-center text-sm text-gray-500\">\r\n                {t('processingNote')}\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n"],"names":[],"mappings":"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"}